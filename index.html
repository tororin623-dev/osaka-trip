<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Osaka 5-Day Timeline Â· Slow Travel Journal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- å¯é¸ï¼šå¦‚æœä½ æƒ³è¦æ›´ç©©å®šçš„ä¸­æ–‡å­—é«”ï¼Œå¯ä»¥å•Ÿç”¨é€™è¡Œï¼ˆä½†ä¸æ˜¯å¿…é ˆï¼‰
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;600&display=swap" rel="stylesheet">
  -->
  <style>
    :root {
      --bg-body: #f2ebe0;
      --bg-card: #fdf8ee;
      --bg-hero: #f7efe3;
      --bg-chip: #fffaf4;
      --ink-main: #2b2117;
      --ink-muted: #7a6a57;
      --ink-soft: #a28f78;
      --ink-accent: #b2743f;
      --border-soft: #e0d4c4;
      --border-strong: #c3ac8e;
      --accent: #c48a54;
      --accent-soft: rgba(196, 138, 84, 0.12);
      --shadow-soft: 0 10px 25px rgba(56, 44, 33, 0.18);
      --radius-card: 18px;
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #f7efe4 0, #f2ebe0 40%, #ecdfcf 90%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Noto Serif TC",
        "Segoe UI", sans-serif;
      color: var(--ink-main);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }

    body {
      min-height: 100vh;
      padding: 14px 10px 84px;
    }

    @media (min-width: 768px) {
      body {
        display: flex;
        justify-content: center;
        padding: 28px 20px 104px;
      }
    }

    .app-shell {
      width: 100%;
      max-width: 960px;
      margin: 0 auto;
      background: var(--bg-card);
      border-radius: 24px;
      border: 1px solid rgba(156, 136, 111, 0.4);
      box-shadow:
        0 28px 60px rgba(74, 55, 36, 0.2),
        0 0 0 1px rgba(255, 255, 255, 0.8) inset;
      padding: 18px 14px 96px;
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .app-shell {
        padding: 22px 24px 110px;
      }
    }

    .app-shell::before {
      content: "";
      position: absolute;
      inset: -12%;
      background-image:
        linear-gradient(transparent 0, rgba(255, 255, 255, 0.45) 2px, transparent 4px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.3) 1px, transparent 3px),
        radial-gradient(circle at top left, rgba(255, 255, 255, 0.4), transparent 55%);
      background-size: 100% 32px, 36px 100%, 100% 100%;
      opacity: 0.5;
      mix-blend-mode: soft-light;
      pointer-events: none;
    }

    .app-inner {
      position: relative;
      z-index: 1;
    }

    .eyebrow {
      font-size: 0.78rem;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: var(--ink-soft);
    }

    h1, h2, h3, h4 {
      margin: 0;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    p {
      margin: 0 0 0.8em;
      line-height: 1.7;
      font-size: 0.95rem;
    }

    /* HERO */

    .hero {
      background:
        radial-gradient(circle at top left, #fdf5e7 0, #f8efe1 40%, #f2e5d4 100%);
      border-radius: 20px;
      padding: 16px 14px 10px;
      margin-bottom: 18px;
      position: relative;
      overflow: hidden;
      box-shadow:
        0 18px 40px rgba(60, 42, 27, 0.18),
        0 0 0 1px rgba(255, 255, 255, 0.8) inset;
    }

    @media (min-width: 768px) {
      .hero {
        padding: 20px 20px 14px;
        margin-bottom: 22px;
      }
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 10% 0, rgba(255, 255, 255, 0.7), transparent 60%),
        radial-gradient(circle at 90% 100%, rgba(198, 149, 96, 0.22), transparent 55%);
      mix-blend-mode: soft-light;
      pointer-events: none;
    }

    .hero-grid {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: minmax(0, 1.8fr) minmax(0, 1.2fr);
      gap: 14px;
      align-items: stretch;
    }

    @media (max-width: 640px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero-main {
      position: relative;
      padding-right: 4px;
    }

    .hero-title {
      font-size: clamp(1.25rem, 4.2vw, 1.7rem);
      margin-top: 6px;
    }

    .hero-subtitle {
      font-size: 0.9rem;
      color: var(--ink-muted);
      margin-top: 6px;
    }

    .hero-date-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
      font-size: 0.84rem;
      color: var(--ink-muted);
      align-items: center;
    }

    .hero-date {
      font-weight: 500;
      color: var(--ink-main);
    }

    .hero-location {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .hero-location span:first-child {
      font-size: 0.96rem;
    }

    .hero-pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 11px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, 0.06);
      background: rgba(255, 255, 255, 0.92);
      font-size: 0.78rem;
      color: var(--ink-muted);
      box-shadow:
        0 1px 3px rgba(90, 68, 44, 0.16),
        0 0 0 1px rgba(255, 255, 255, 0.8) inset;
    }

    .pill-icon {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent);
      flex-shrink: 0;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 9px;
      border-radius: 999px;
      background: rgba(255, 252, 246, 0.9);
      border: 1px solid rgba(150, 128, 101, 0.6);
      font-size: 0.76rem;
      color: var(--ink-muted);
    }

    .chip-icon {
      font-size: 0.9rem;
    }

    .hero-weather {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 11px;
      font-size: 0.86rem;
      color: var(--ink-muted);
    }

    .hero-weather-temp {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--ink-main);
    }

    .hero-weather-desc {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .hero-secondary {
      border-radius: 16px;
      padding: 11px 11px 9px;
      background: radial-gradient(circle at top left, #302218, #1f1811);
      color: #f9f3ea;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      position: relative;
      overflow: hidden;
      box-shadow:
        0 14px 36px rgba(32, 23, 15, 0.8),
        0 0 0 1px rgba(255, 255, 255, 0.1) inset;
    }

    .hero-secondary::before {
      content: "";
      position: absolute;
      inset: -25%;
      background:
        radial-gradient(circle at top left, rgba(255, 255, 255, 0.26), transparent 60%),
        radial-gradient(circle at bottom right, rgba(0, 0, 0, 0.5), transparent 70%);
      mix-blend-mode: soft-light;
      opacity: 1;
    }

    .hero-secondary-inner {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      gap: 8px;
      height: 100%;
    }

    .hero-secondary h3 {
      font-size: 0.86rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      margin-bottom: 4px;
    }

    .hero-secondary p {
      font-size: 0.8rem;
      color: rgba(249, 243, 234, 0.86);
      margin-bottom: 0;
    }

    .hero-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }

    .hero-tag {
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(249, 243, 234, 0.6);
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(249, 243, 234, 0.9);
      background: rgba(0, 0, 0, 0.06);
    }

    .hero-note {
      font-size: 0.76rem;
      color: rgba(249, 243, 234, 0.78);
      margin-top: 4px;
    }

    /* SECTION HEADER */

    .section-header {
      margin: 10px 3px 10px;
    }

    .section-header h2 {
      font-size: 1rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      margin-top: 6px;
    }

    .section-header p {
      font-size: 0.85rem;
      color: var(--ink-muted);
      margin-top: 4px;
    }

    /* TIMELINE */

    .timeline {
      margin-top: 6px;
      padding-left: 6px;
    }

    .timeline-item {
      display: grid;
      grid-template-columns: auto minmax(0, 1fr);
      gap: 10px;
      position: relative;
      padding: 8px 0;
    }

    .timeline-time {
      font-size: 0.84rem;
      color: var(--ink-muted);
      text-align: right;
      width: 58px;
      padding-right: 6px;
      position: relative;
    }

    .timeline-dot {
      position: absolute;
      top: 13px;
      right: -3px;
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #fff;
      border: 2px solid var(--accent);
      box-shadow: 0 0 0 3px var(--accent-soft);
    }

    .timeline-line {
      position: absolute;
      top: 22px;
      right: 1px;
      bottom: -10px;
      width: 1px;
      background: linear-gradient(to bottom, rgba(176, 123, 74, 0.65), transparent 80%);
    }

    .timeline-card {
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.96);
      border: 1px solid var(--border-soft);
      padding: 9px 10px 9px;
      box-shadow:
        0 7px 16px rgba(48, 36, 24, 0.16),
        0 0 0 1px rgba(255, 255, 255, 0.9) inset;
      position: relative;
      overflow: hidden;
    }

    .timeline-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.4),
        transparent 40%,
        transparent 60%,
        rgba(255, 255, 255, 0.3)
      );
      mix-blend-mode: soft-light;
      opacity: 0.8;
      pointer-events: none;
    }

    .timeline-card-inner {
      position: relative;
      z-index: 1;
    }

    .timeline-card-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 6px;
      margin-bottom: 4px;
    }

    .timeline-card-title {
      font-size: 0.96rem;
      font-weight: 600;
    }

    .timeline-card-type {
      font-size: 0.74rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--ink-soft);
    }

    .timeline-location {
      font-size: 0.82rem;
      color: var(--ink-muted);
      margin-bottom: 4px;
    }

    .timeline-location a {
      color: var(--ink-accent);
      text-decoration: none;
      border-bottom: 1px dashed rgba(176, 123, 74, 0.75);
    }

    .timeline-location a:hover {
      opacity: 0.85;
    }

    .timeline-body {
      font-size: 0.84rem;
      color: var(--ink-main);
      margin-bottom: 4px;
    }

    .timeline-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      margin-top: 4px;
    }

    .timeline-tag {
      padding: 2px 6px;
      border-radius: 999px;
      background: var(--accent-soft);
      font-size: 0.74rem;
      color: var(--ink-accent);
    }

    .keyword-link {
      color: var(--ink-accent);
      text-decoration: underline;
      text-decoration-style: dotted;
      cursor: pointer;
    }

    .keyword-link:hover {
      opacity: 0.85;
    }

    /* TRIP CHEAT SHEET */

    .overall-map {
      margin-top: 18px;
      padding: 11px 12px 13px;
      border-radius: 17px;
      border: 1px dashed rgba(153, 130, 100, 0.9);
      background: rgba(255, 252, 246, 0.98);
      font-size: 0.86rem;
      color: var(--ink-muted);
      box-shadow:
        0 10px 26px rgba(70, 50, 32, 0.18),
        0 0 0 1px rgba(255, 255, 255, 0.9) inset;
    }

    .overall-map h3 {
      font-size: 0.92rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      margin: 0 0 6px;
      color: var(--ink-accent);
    }

    .cheat-intro {
      font-size: 0.8rem;
      margin-bottom: 6px;
    }

    .cheat-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.2fr);
      gap: 12px 18px;
      margin-top: 6px;
    }

    @media (max-width: 640px) {
      .cheat-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .cheat-section h4 {
      font-size: 0.82rem;
      margin: 0 0 4px;
      color: var(--ink-main);
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .cheat-section p {
      font-size: 0.8rem;
      margin-bottom: 4px;
    }

    .cheat-section ul {
      margin: 0 0 4px 1.1em;
      padding: 0;
      list-style: disc;
      font-size: 0.8rem;
    }

    .cheat-section li {
      margin-bottom: 2px;
    }

    .map-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
      font-size: 0.78rem;
    }

    .map-pill {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(153, 130, 100, 0.6);
      background: #fff;
      color: var(--ink-muted);
    }

    .trip-mood-list {
      margin: 4px 0 0;
      padding: 0;
      list-style: none;
      font-size: 0.8rem;
    }

    .trip-mood-list li {
      margin-bottom: 2px;
    }

    /* BOTTOM NAV */

    .bottom-nav {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 6px 10px 8px;
      background: linear-gradient(to top, rgba(245, 235, 220, 0.98), rgba(245, 235, 220, 0.92));
      border-top: 1px solid rgba(150, 128, 101, 0.5);
      backdrop-filter: blur(10px);
      z-index: 20;
    }

    @media (min-width: 768px) {
      .bottom-nav {
        padding-inline: 18px;
      }
    }

    .bottom-nav-inner {
      max-width: 960px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    .bottom-nav-group {
      display: flex;
      gap: 6px;
      overflow-x: auto;
      padding-bottom: 2px;
    }

    .bottom-nav-group::-webkit-scrollbar {
      height: 0;
    }

    .nav-btn {
      border-radius: 999px;
      border: 1px solid rgba(125, 103, 78, 0.5);
      background: #fdf7ed;
      padding: 6px 10px;
      font-size: 0.76rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #4a3a29;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow:
        0 3px 6px rgba(100, 80, 55, 0.2),
        0 0 0 1px rgba(255, 255, 255, 0.8) inset;
      white-space: nowrap;
      background-image: linear-gradient(to bottom, #fffaf3, #f7efe3);
      transition: transform 100ms ease-out, box-shadow 100ms ease-out,
        background 100ms ease-out, border-color 100ms ease-out;
    }

    .nav-btn-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
    }

    .nav-btn.active {
      border-color: rgba(196, 138, 84, 0.9);
      box-shadow:
        0 5px 10px rgba(100, 80, 55, 0.28),
        0 0 0 1px rgba(255, 255, 255, 0.95) inset;
      background-image: linear-gradient(to bottom, #fffdf7, #f6ebdd);
    }

    .nav-btn:hover {
      transform: translateY(-1px);
    }

    .bottom-nav-note {
      font-size: 0.76rem;
      color: var(--ink-muted);
      text-align: right;
      display: none;
    }

    @media (min-width: 768px) {
      .bottom-nav-note {
        display: block;
      }
    }

    /* MODAL */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(28, 20, 12, 0.45);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }

    .modal-backdrop.active {
      display: flex;
    }

    .modal {
      width: min(92vw, 420px);
      max-height: 80vh;
      background: #fdf9f2;
      border-radius: 18px;
      border: 1px solid rgba(156, 136, 111, 0.4);
      box-shadow:
        0 24px 55px rgba(0, 0, 0, 0.26),
        0 0 0 1px rgba(255, 255, 255, 0.92) inset;
      padding: 14px 14px 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      transform: translateY(8px);
      opacity: 0;
      transition: opacity 140ms ease-out, transform 140ms ease-out;
    }

    .modal-backdrop.active .modal {
      opacity: 1;
      transform: translateY(0);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }

    .modal-title {
      font-size: 0.98rem;
      font-weight: 600;
    }

    .modal-badge {
      font-size: 0.72rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--ink-muted);
    }

    .modal-close {
      border: none;
      background: transparent;
      cursor: pointer;
      padding: 4px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      color: var(--ink-soft);
    }

    .modal-close:hover {
      background: rgba(0, 0, 0, 0.05);
    }

    .modal-body {
      font-size: 0.86rem;
      color: var(--ink-main);
      overflow-y: auto;
      padding-right: 2px;
    }

    .modal-meta {
      font-size: 0.78rem;
      color: var(--ink-muted);
      margin-bottom: 6px;
    }

    .modal-image {
      width: 100%;
      border-radius: 12px;
      border: 1px solid var(--border-soft);
      margin: 6px 0;
    }

    .modal-footer {
      font-size: 0.76rem;
      color: var(--ink-muted);
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      margin-top: 2px;
    }

    .modal-link {
      color: var(--ink-accent);
      text-decoration: underline;
      text-decoration-style: dotted;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <div class="app-inner">
      <!-- HERO -->
      <header class="hero">
        <div class="hero-grid">
          <div class="hero-main">
            <div class="eyebrow">OSAKA Â· TRAVEL TIMELINE</div>
            <h1 class="hero-title" id="hero-title">Day 1 Â· æŠµé”èˆ‡åˆè¦‹</h1>
            <p class="hero-subtitle" id="hero-subtitle">
              å¾é—œè¥¿æ©Ÿå ´åˆ°é›£æ³¢ï¼ŒæŠŠç¬¬ä¸€å¤©ç•¶æˆæ…¢æ…¢èª¿æ•´ç¯€å¥çš„ç·©è¡ã€‚
            </p>

            <div class="hero-date-row">
              <span class="hero-date" id="hero-date">2025 å¹´ 12 æœˆ 15 æ—¥ Â· Sun</span>
              <span>ï½œ</span>
              <span class="hero-location" id="hero-location">
                <span>ğŸ“</span><span>Osaka Â· Namba</span>
              </span>
            </div>

            <div class="hero-pill-row">
              <div class="pill">
                <span class="pill-icon"></span>
                <span id="hero-day-range">Day 1 of 5</span>
              </div>
              <div class="pill">
                <span class="pill-icon"></span>
                <span>Slow Â· Journal Mode</span>
              </div>
              <div class="chip">
                <span class="chip-icon">ğŸ•’</span>
                <span id="hero-today-label">ä»Šå¤© Â· OSAKA æ™‚å€</span>
              </div>
            </div>

            <div class="hero-weather">
              <span class="hero-weather-temp" id="hero-temp">--Â°C</span>
              <span class="hero-weather-desc" id="hero-weather-desc">
                è¼‰å…¥å¤©æ°£ä¸­â€¦
              </span>
            </div>
          </div>

          <aside class="hero-secondary">
            <div class="hero-secondary-inner">
              <div>
                <h3>æ—…ç¨‹æ‘˜è¦</h3>
                <p id="hero-summary">
                  å¤§é˜ªäº”æ—¥æ…¢æ—…è¡Œï¼Œä»¥ã€Œä¸€å¤©ä¸€æ¢ä¸»ç·šã€æ–¹å¼ç·¨æ’ã€‚æ»‘å‹•æ™‚é–“è»¸ï¼Œå°±åƒç¿»é–±æ—…è¡Œæ‰‹å¸³ï¼ŒæŠŠæ¯å€‹åœ°é»èˆ‡ç•¶ä¸‹å¿ƒæƒ…å°èµ·ä¾†ã€‚
                </p>
                <div class="hero-tags" id="hero-tags">
                  <span class="hero-tag">OSAKA</span>
                  <span class="hero-tag">NARA</span>
                  <span class="hero-tag">5 DAYS</span>
                </div>
              </div>
              <div class="hero-note">
                å°æé†’ï¼šé»åœ°é»åç¨±å¯é–‹å•Ÿ Google Mapsï¼Œé»èˆªç­è™Ÿæˆ–é£¯åº—åæœƒè·³å‡ºè©³ç´°è³‡è¨Šï¼›æ»‘åˆ°åº•å¯ä»¥çœ‹åˆ°ã€Œæ—…ç¨‹å°æŠ„ã€ã€‚
              </div>
            </div>
          </aside>
        </div>
      </header>

      <!-- SECTION HEADER -->
      <section class="section-header">
        <div class="eyebrow" id="day-eyebrow">DAY 01 Â· ARRIVAL</div>
        <h2 id="day-title">TIME Â· LINE Â· DAY 1</h2>
        <p id="day-caption">
          ä»¥æ™‚é–“è»¸æ–¹å¼æ•´ç†ç•¶å¤©è¡Œç¨‹ï¼Œå·¦å´æ˜¯æ™‚é–“ï¼Œå³å´æ˜¯å¯ä»¥é»æ“Šäº’å‹•çš„å¡ç‰‡ã€‚
        </p>
      </section>

      <!-- TIMELINE -->
      <main id="timeline" class="timeline" aria-label="ç•¶æ—¥æ—…ç¨‹æ™‚é–“è»¸">
        <!-- ç”± JS å‹•æ…‹ç”¢ç”Ÿ -->
      </main>

      <!-- TRIP CHEAT SHEET -->
      <section id="trip-cheat-sheet" class="overall-map">
        <h3>æ—…ç¨‹å°æŠ„ Â· TRIP CHEAT SHEET</h3>
        <p class="cheat-intro">
          ä¸æƒ³ç¿»æ‰¾ä¿¡ç®±æˆ–ç›¸ç°¿æ™‚ï¼Œåªè¦æ»‘åˆ°é€™è£¡ï¼Œå°±èƒ½å¿«é€Ÿç¢ºèªé€™è¶Ÿå¤§é˜ªäº”æ—¥è¡Œçš„é—œéµè³‡è¨Šã€‚éœ€è¦æ™‚å†æŠŠæ–‡å­—æ”¹æˆå¯¦éš›è³‡æ–™å³å¯ã€‚
        </p>

        <div class="cheat-grid">
          <!-- å·¦æ¬„ï¼šèˆªç­ + ä½å®¿ + äº¤é€š -->
          <div class="cheat-section">
            <h4>èˆªç­è³‡è¨Š Â· FLIGHTS</h4>
            <p>
              å»ç¨‹ï¼š
              <span class="keyword-link" data-modal-key="flight-jl812">
                JL812ï¼ˆTPE â†’ KIXï¼‰
              </span>
            </p>
            <p>
              å›ç¨‹ï¼š
              <span class="keyword-link" data-modal-key="flight-jl815">
                JL815ï¼ˆKIX â†’ TPEï¼‰
              </span>
            </p>
            <p style="font-size:0.78rem;">
              å»ºè­°èµ·é£›å‰ 24 å°æ™‚å®Œæˆç¶²è·¯é è¾¦ç™»æ©Ÿï¼Œç•¶å¤©åªéœ€è¾¦æ‰˜é‹å³å¯ã€‚
            </p>

            <h4 style="margin-top:8px;">ä½å®¿ Â· HOTEL</h4>
            <p>
              <span class="keyword-link" data-modal-key="hotel-granbell">
                GRANBELL HOTEL OSAKA NAMBA
              </span>
            </p>
            <p style="font-size:0.8rem;">
              åœ°å€å¯ç›´æ¥å­˜åˆ° Google Mapsï¼Œç•¶æˆæ•´è¶Ÿæ—…è¡Œçš„ã€Œå¤§é˜ªåŸºåœ°ã€ã€‚
            </p>

            <h4 style="margin-top:8px;">äº¤é€š Â· TRANSPORT</h4>
            <div class="map-pills">
              <span class="map-pill">ICOCA Â· å„²å€¼äº¤é€šå¡</span>
              <span class="map-pill">è¿‘éµé›»è»Š Â· å¥ˆè‰¯å¾€è¿”</span>
              <span class="map-pill">å—æµ·é›»éµ Â· æ©Ÿå ´ç·š</span>
            </div>
            <p style="font-size:0.78rem; margin-top:4px;">
              äº‹å‰æ±ºå®šå¥½å¥ˆè‰¯ç•¶å¤©ç”¨å“ªç¨®ç¥¨åˆ¸ï¼Œå…¶é¤˜ä»¥å„²å€¼å¡æ­é…å³å¯ã€‚
            </p>
          </div>

          <!-- å³æ¬„ï¼šç·Šæ€¥è³‡è¨Š + Daily Ritual + äº”æ—¥å°è¨˜ -->
          <div class="cheat-section">
            <h4>ç·Šæ€¥è³‡è¨Š Â· EMERGENCY</h4>
            <ul>
              <li>é£¯åº—é›»è©±ï¼šå¯åœ¨æ­¤å¡«å¯«å¯¦éš›é›»è©±</li>
              <li>èˆªç©ºå…¬å¸å®¢æœï¼šæ—¥èˆªå°ç£ï¼æ—¥æœ¬å®¢æœ</li>
              <li>è­·ç…§è™Ÿç¢¼ï¼šEJ12****56ï¼ˆåƒ…è‡ªå·±çœ‹å¾—æ‡‚å³å¯ï¼‰</li>
              <li>ç·Šæ€¥è¯çµ¡äººï¼šå®¶äººï¼ä¼´ä¾¶é›»è©±ï¼ˆå»ºè­°å¦å­˜æ‰‹æ©Ÿï¼‰</li>
            </ul>

            <h4 style="margin-top:6px;">æ¯æ—¥å„€å¼ Â· DAILY RITUAL</h4>
            <ul>
              <li>å›æˆ¿å…ˆå¹«æ‰‹æ©Ÿèˆ‡è¡Œå‹•é›»æºå……é›»</li>
              <li>ç¡å‰æŒ‘ 3 å¼µç…§ç‰‡å‚™ä»½åˆ°é›²ç«¯</li>
              <li>æ‰‹å¸³å¯«ä¸‹ç•¶å¤©æœ€æƒ³è¨˜ä½çš„ä¸€å¥è©±</li>
            </ul>

            <h4 style="margin-top:6px;">äº”æ—¥ä¸€å¥è©± Â· 5-DAY SNAPSHOT</h4>
            <ul class="trip-mood-list">
              <li>Day 1ï¼šæ–°çš„ç©ºæ°£èˆ‡æµ·é¢¨ï¼ŒæŠŠæ—…ç¨‹é–‹åœ¨è‡¨ç©ºåŸã€‚</li>
              <li>Day 2ï¼šåŒ—æ¿±æ²³é¢å¾ˆä¹¾æ·¨ï¼ŒåŸå¸‚æ¯”æƒ³åƒä¸­å®‰éœã€‚</li>
              <li>Day 3ï¼šåœ¨å¤§é˜ªåŸå…¬åœ’å¾…æœ€ä¹…çš„ä¸€å¤©ï¼Œè…³æ­¥è‡ªç„¶æ”¾æ…¢ã€‚</li>
              <li>Day 4ï¼šå¥ˆè‰¯é¹¿èˆ‡æ¨¹æ—çš„è·é›¢æ„Ÿï¼Œè®“æ™‚é–“è®Šå¾—å¾ˆé•·ã€‚</li>
              <li>Day 5ï¼šåœ¨æ©Ÿå ´å¯«å®Œæœ€å¾Œä¸€é ï¼Œæ¥å—ã€Œé€™æ¬¡å°±å…ˆåˆ°é€™è£¡ã€ã€‚</li>
            </ul>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- BOTTOM NAV -->
  <nav class="bottom-nav" aria-label="æ¯æ—¥åˆ‡æ›å°èˆª">
    <div class="bottom-nav-inner">
      <div class="bottom-nav-group" id="bottom-nav-group">
        <button class="nav-btn active" data-day-index="0" type="button">
          <span class="nav-btn-dot"></span>
          <span>DAY 1</span>
        </button>
        <button class="nav-btn" data-day-index="1" type="button">
          <span class="nav-btn-dot"></span>
          <span>DAY 2</span>
        </button>
        <button class="nav-btn" data-day-index="2" type="button">
          <span class="nav-btn-dot"></span>
          <span>DAY 3</span>
        </button>
        <button class="nav-btn" data-day-index="3" type="button">
          <span class="nav-btn-dot"></span>
          <span>DAY 4</span>
        </button>
        <button class="nav-btn" data-day-index="4" type="button">
          <span class="nav-btn-dot"></span>
          <span>DAY 5</span>
        </button>
        <button class="nav-btn" data-nav-cheat="true" type="button">
          <span class="nav-btn-dot"></span>
          <span>CHEAT</span>
        </button>
      </div>
      <div class="bottom-nav-note">
        å·¦å³æ»‘å‹•é¸æ“‡æ—¥æœŸ Â· é» CHEAT æª¢è¦–æ—…ç¨‹å°æŠ„
      </div>
    </div>
  </nav>

  <!-- MODAL -->
  <div class="modal-backdrop" id="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div class="modal-header">
        <div>
          <div class="modal-title" id="modal-title">è©³ç´°è³‡è¨Š</div>
          <div class="modal-badge" id="modal-badge">DETAIL</div>
        </div>
        <button class="modal-close" type="button" aria-label="é—œé–‰è©³ç´°è³‡è¨Š" id="modal-close">
          âœ•
        </button>
      </div>
      <div class="modal-body">
        <div class="modal-meta" id="modal-meta"></div>
        <img id="modal-image" class="modal-image" src="" alt="" style="display:none;" />
        <div id="modal-content-text"></div>
      </div>
      <div class="modal-footer">
        <span id="modal-footer-note"></span>
      </div>
    </div>
  </div>

  <script>
    // ======= DATA MODEL =======

    const DAYS = [
      {
        id: 1,
        label: "DAY 01 Â· ARRIVAL",
        heroTitle: "Day 1 Â· æŠµé”èˆ‡åˆè¦‹",
        heroSubtitle: "å¾é—œè¥¿æ©Ÿå ´åˆ°é›£æ³¢ï¼ŒæŠŠç¬¬ä¸€å¤©ç•¶æˆæ…¢æ…¢èª¿æ•´ç¯€å¥çš„ç·©è¡ã€‚",
        heroSummary:
          "ä»¥ KIX èˆ‡è‡¨ç©ºåŸç‚ºèµ·é»ï¼Œé‡é»æ˜¯è®“èº«é«”å’Œå¿ƒæƒ…å¾æ—¥å¸¸æ¨¡å¼åˆ‡æ›åˆ°æ—…è¡Œæ¨¡å¼ï¼Œä¸æ€¥è‘—æŠŠè¡Œç¨‹æ’æ»¿ã€‚",
        heroTags: ["KIX", "RINKU TOWN", "NAMBA"],
        date: "2025-12-15",
        dateLabel: "2025 å¹´ 12 æœˆ 15 æ—¥ Â· Sun",
        locationLabel: "Osaka Â· Namba",
        weatherCity: "Osaka",
        eyebrow: "DAY 01 Â· ARRIVAL",
        caption: "æŠµé”æ—¥å°±æ˜¯ç·©è¡æ—¥ï¼Œçµ¦è‡ªå·±å¤šä¸€é»ç©ºç™½ï¼Œå¯ä»¥æ›´æ¸…æ¥šè¨˜å¾—ç¬¬ä¸€å£å¤§é˜ªç©ºæ°£ã€‚",
        dayRangeLabel: "Day 1 of 5",
        timeline: [
          {
            time: "08:30",
            title: "å‡ºç™¼ Â· å‰å¾€æ¡ƒåœ’æ©Ÿå ´",
            type: "FLIGHT",
            location: "æ¡ƒåœ’åœ‹éš›æ©Ÿå ´ T1",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Taoyuan+International+Airport",
            description:
              "ææ—©æŠµé”æ©Ÿå ´è¾¦ç†æ‰˜é‹ï¼Œç•™ä¸€é»æ™‚é–“åƒç°¡å–®æ—©é¤ï¼Œç¢ºèªè­·ç…§èˆ‡ç™»æ©Ÿè­‰éƒ½åœ¨èº«ä¸Šã€‚",
            tags: ["CHECK-IN", "BREAKFAST"],
            keywords: [
              {
                label: "èˆªç­ JL812",
                modalKey: "flight-jl812"
              }
            ]
          },
          {
            time: "13:30",
            title: "æŠµé”é—œè¥¿æ©Ÿå ´ Â· æµ·é‚Šæ›æ°£",
            type: "ARRIVAL",
            location: "é—œè¥¿åœ‹éš›æ©Ÿå ´ KIX",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Kansai+International+Airport",
            description:
              "ä¸‹æ©Ÿå¾Œæ…¢æ…¢é€šé—œï¼Œä¸ç”¨æ€¥è‘—é›¢é–‹æ©Ÿå ´å³¶ã€‚å¯ä»¥å…ˆåœ¨çª—é‚Šçœ‹æµ·èˆ‡è·‘é“ï¼Œè®“çœ¼ç›å…ˆç¿’æ…£æ–°çš„å…‰ç·šã€‚",
            tags: ["KIX", "ARRIVAL"]
          },
          {
            time: "15:00",
            title: "è‡¨ç©ºåŸæ•£æ­¥ Â· çœ‹å¤§é˜ªç£",
            type: "WALK",
            location: "Rinku Town è‡¨ç©ºåŸ",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Rinku+Town+Osaka",
            description:
              "æ­ä¹˜é›»è»Šåˆ°è‡¨ç©ºåŸï¼Œåœ¨æµ·é‚Šæ­¥é“æ•£æ­¥ï¼Œçœ‹æ©‹èˆ‡æµ·é¢¨ï¼ŒæŠŠæ—…ç¨‹çš„ç¬¬ä¸€å¼µç…§ç‰‡ç•™çµ¦å¤§é˜ªç£ã€‚",
            tags: ["SEA WALK", "SUNSET"]
          },
          {
            time: "18:30",
            title: "å…¥ä½é£¯åº— Â· æ•´ç†ç¬¬ä¸€æ™š",
            type: "HOTEL",
            location: "GRANBELL HOTEL OSAKA NAMBA",
            mapsUrl:
              "https://www.google.com/maps/search/?api=1&query=GRANBELL+HOTEL+OSAKA+NAMBA",
            description:
              "Check-in å¾Œç¨ä½œä¼‘æ¯ï¼Œæ‰“é–‹è¡Œæç®±æŠŠå¿…éœ€å“å°±ä½ï¼Œç‚ºæ¥ä¸‹ä¾†å¹¾å¤©å»ºç«‹ä¸€å€‹å°å°åŸºåœ°ã€‚",
            tags: ["CHECK-IN", "SETTLE"],
            keywords: [
              {
                label: "é£¯åº—é è¨‚è³‡è¨Š",
                modalKey: "hotel-granbell"
              }
            ]
          }
        ]
      },
      {
        id: 2,
        label: "DAY 02 Â· CITY WALK",
        heroTitle: "Day 2 Â· æ²³ç•”èˆ‡è¡—å··æ…¢æ•£æ­¥",
        heroSubtitle:
          "å¾åŒ—æ¿±æ²³å²¸åˆ°ä¸­å´ç”ºå°å··ï¼Œæ™šä¸Šå†å›åˆ°é“é “å €ï¼Œæ„Ÿå—å¤§é˜ªä¸åŒé¢å‘ã€‚",
        heroSummary:
          "å®‰æ’ä¸€æ¢å¾å®‰éœåˆ°ç†±é¬§çš„å‹•ç·šï¼Œä¸€å¤©é«”é©—å¤§é˜ªçš„å¤šé‡ç¯€å¥ï¼šå’–å•¡ã€å··å¼„ã€å¤œè‰²ã€‚",
        heroTags: ["KITAHAMA", "NAKAZAKICHO", "DOTONBORI"],
        date: "2025-12-16",
        dateLabel: "2025 å¹´ 12 æœˆ 16 æ—¥ Â· Mon",
        locationLabel: "Osaka Â· Kitahama / Namba",
        weatherCity: "Osaka",
        eyebrow: "DAY 02 Â· CITY RIVER & STREETS",
        caption: "ç”¨ä¸€æ¢è·¯ç·šæŠŠåŒ—æ¿±ã€ä¸­å´ç”ºèˆ‡é“é “å €ä¸²èµ·ä¾†ï¼Œæ„Ÿå—åŸå¸‚å¾å®‰éœåˆ°ç†±é¬§çš„æ¼¸å±¤ã€‚",
        dayRangeLabel: "Day 2 of 5",
        timeline: [
          {
            time: "09:30",
            title: "åŒ—æ¿±æ²³ç•”å’–å•¡",
            type: "CAFE",
            location: "åŒ—æ¿± Riverside CafÃ© ä¸€å¸¶",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Kitahama+Osaka",
            description:
              "æ²¿è‘—æ²³å²¸æ•£æ­¥ï¼Œæ‰¾ä¸€é–“é †çœ¼çš„å’–å•¡åº—åä¸‹ï¼Œè®“æ—©æ™¨å¾ä¸€æ¯æ‰‹æ²–å’Œæ²³é¢çš„å…‰é–‹å§‹ã€‚",
            tags: ["COFFEE", "RIVER"]
          },
          {
            time: "13:00",
            title: "ä¸­å´ç”ºå°åº—å·¡ç¦®",
            type: "WALK",
            location: "ä¸­å´ç”ºå•†åº—è¡—ä¸€å¸¶",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Nakazakicho+Osaka",
            description:
              "é‘½é€²å°å··çœ‹äºŒæ‰‹åº—å’Œé¸ç‰©åº—ï¼Œä¸ä¸€å®šè¦è²·ä»€éº¼ï¼Œåªæ˜¯æŠŠå–œæ­¡çš„åº—è¨˜åœ¨å¿ƒè£¡ã€‚",
            tags: ["BACKSTREET", "LUNCH"]
          },
          {
            time: "17:30",
            title: "é»ƒæ˜å›åˆ°é›£æ³¢",
            type: "EVENING",
            location: "é›£æ³¢å‘¨é‚Š",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Namba+Osaka",
            description:
              "é»ƒæ˜æ™‚é–“å›åˆ°é›£æ³¢ï¼Œæ‰¾ä¸€æ¢æ¯”è¼ƒä¸åµçš„è·¯ç·šæ•£æ­¥å›é£¯åº—ï¼Œé€”ä¸­é †ä¾¿è¦“é£Ÿã€‚",
            tags: ["DINNER", "NIGHT WALK"]
          },
          {
            time: "20:00",
            title: "é“é “å €å¤œè‰²",
            type: "NIGHT",
            location: "é“é “å €",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Dotonbori",
            description:
              "çŸ­æš«èµ°ä¸€åœˆç†±é¬§çš„é“é “å €ï¼Œçœ‹çœ‹éœ“è™¹èˆ‡äººæ½®ï¼ŒæŠŠä»Šå¤©çš„å°æ¯”æ”¶åœ¨åŒä¸€å€‹æ™šä¸Šã€‚",
            tags: ["LIGHTS", "CITY"]
          }
        ]
      },
      {
        id: 3,
        label: "DAY 03 Â· CASTLE PARK",
        heroTitle: "Day 3 Â· å¤§é˜ªåŸå…¬åœ’çš„ä¸€å¤©",
        heroSubtitle:
          "ç•™ä¸€æ•´å¤©çµ¦å¤§é˜ªåŸå…¬åœ’ï¼Œåœ¨æ¨¹è”­èˆ‡åŸç‰†é–“æ…¢æ…¢èµ°ï¼ŒæŠŠè…³æ­¥æ”¾å¾—æ¯”å‰å…©å¤©æ›´æ…¢ã€‚",
        heroSummary:
          "ä¸æ€¥è‘—é€²å¤©å®ˆé–£ï¼Œé‡é»æ˜¯å…¬åœ’æœ¬èº«ï¼šæ¨¹å½±ã€è­·åŸæ²³å’Œä¸æ–·è®ŠåŒ–çš„è¦–è§’ã€‚",
        heroTags: ["OSAKA CASTLE", "PARK", "GREEN"],
        date: "2025-12-17",
        dateLabel: "2025 å¹´ 12 æœˆ 17 æ—¥ Â· Tue",
        locationLabel: "Osaka Â· Osaka Castle Park",
        weatherCity: "Osaka",
        eyebrow: "DAY 03 Â· CASTLE & GREEN",
        caption: "ç¬¬ä¸‰å¤©ç•™çµ¦å¤§é˜ªåŸå…¬åœ’ï¼Œè®“è¡Œç¨‹æœ‰ä¸€å€‹çœŸæ­£æ„ç¾©ä¸Šçš„ã€ç©ºæª”æ—¥ã€ã€‚",
        dayRangeLabel: "Day 3 of 5",
        timeline: [
          {
            time: "10:00",
            title: "å¤§é˜ªåŸå¤–åœæ•£æ­¥",
            type: "WALK",
            location: "å¤§é˜ªåŸå…¬åœ’ å¤–åœæ­¥é“",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Osaka+Castle+Park",
            description:
              "å…ˆæ²¿è‘—è­·åŸæ²³å¤–åœæ…¢æ…¢èµ°ä¸€åœˆï¼Œæ‰¾å¹¾å€‹å–œæ­¡çš„è§’åº¦æ‹ç…§ï¼Œä¸ä¸€å®šè¦é è¿‘åŸã€‚",
            tags: ["CASTLE VIEW", "SLOW START"]
          },
          {
            time: "12:30",
            title: "å…¬åœ’è£¡çš„åˆé¤ä¼‘æ¯",
            type: "LUNCH",
            location: "å…¬åœ’æ¨¹è”­æˆ–é•·æ¤…",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Osaka+Castle+Park+Bench",
            description:
              "åœ¨ä¾¿åˆ©å•†åº—è²·ç°¡å–®ä¾¿ç•¶æˆ–é£¯ç³°ï¼Œåœ¨å…¬åœ’æ‰¾ä¸€å€‹å®‰éœçš„åœ°æ–¹åè‘—åƒï¼Œè®“è…³å’Œè€³æœµä¸€èµ·ä¼‘æ¯ã€‚",
            tags: ["CONVENI STORE", "PICNIC"]
          },
          {
            time: "14:30",
            title: "é è¿‘å¤©å®ˆé–£ Â· ä½†ä¸ä¸€å®šè¦é€²å»",
            type: "VIEW",
            location: "å¤©å®ˆé–£å»£å ´ä¸€å¸¶",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Osaka+Castle+Tower",
            description:
              "èµ°è¿‘åŸæ¨“çœ‹çœ‹ç´°ç¯€ï¼Œå¦‚æœæ’éšŠäººå¤ªå¤šï¼Œä¸å‹‰å¼·è‡ªå·±æ’éšŠï¼Œåªåœ¨å»£å ´ä¸Šæ…¢æ…¢æ™ƒå°±å¥½ã€‚",
            tags: ["PHOTO", "OPTIONAL"]
          },
          {
            time: "17:00",
            title: "é»ƒæ˜æ…¢æ…¢é›¢é–‹å…¬åœ’",
            type: "EVENING",
            location: "å¤§é˜ªåŸå…¬åœ’è»Šç«™å‘¨é‚Š",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Osakajokoen+Station",
            description:
              "é¸ä¸€æ¢ä¸åŒçš„è·¯èµ°å›è»Šç«™ï¼Œçœ‹å…¬åœ’å¾ç™½å¤©è½‰æˆå‚æ™šï¼Œä¸€å¤©çš„ç¯€å¥å‰›å¥½æ”¶åœ¨é€™è£¡ã€‚",
            tags: ["SUNSET", "COOL DOWN"]
          }
        ]
      },
      {
        id: 4,
        label: "DAY 04 Â· NARA DAY TRIP",
        heroTitle: "Day 4 Â· å¥ˆè‰¯é¹¿èˆ‡è€è¡—çš„ä¸€å¤©",
        heroSubtitle:
          "æ­é›»è»Šåˆ°å¥ˆè‰¯å…¬åœ’ï¼Œçœ‹é¹¿ã€é€›è€è¡—ï¼Œå†æ…¢æ…¢å›å¤§é˜ªï¼ŒæŠŠç¯€å¥æ‹‰å¾—æ›´é¬†ã€‚",
        heroSummary:
          "å¥ˆè‰¯ä¸æ˜¯æ‰“å¡æ¸…å–®ï¼Œè€Œæ˜¯ä¸€å€‹è®“æ™‚é–“è®Šæ…¢çš„åœ°æ–¹ï¼›é †è‘—é¹¿èˆ‡æ¨¹çš„æ­¥èª¿èµ°å°±å¥½ã€‚",
        heroTags: ["NARA PARK", "DEER", "OLD TOWN"],
        date: "2025-12-18",
        dateLabel: "2025 å¹´ 12 æœˆ 18 æ—¥ Â· Wed",
        locationLabel: "Nara Â· Nara Park / Naramachi",
        weatherCity: "Nara",
        eyebrow: "DAY 04 Â· NARA PARK",
        caption: "ç”¨ä¸€æ•´å¤©åœ¨å¥ˆè‰¯å…¬åœ’èˆ‡è€è¡—æ•£æ­¥ï¼Œçœ‹é¹¿ä¹Ÿçœ‹è‡ªå·±åœ¨æ—…è¡Œæ¨¡å¼ä¸‹çš„æ­¥èª¿ã€‚",
        dayRangeLabel: "Day 4 of 5",
        timeline: [
          {
            time: "09:00",
            title: "å‰å¾€å¥ˆè‰¯ Â· é›»è»Šå°æ—…ç¨‹",
            type: "TRAIN",
            location: "å¤§é˜ª â†’ å¥ˆè‰¯ (è¿‘éµ)",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Kintetsu+Nara+Station",
            description:
              "å¾å¤§é˜ªæ­è¿‘éµå‰å¾€å¥ˆè‰¯ï¼Œä¸­é€”çœ‹çª—å¤–é¢¨æ™¯æ…¢æ…¢è®ŠåŒ–ï¼Œç•¶æˆä¸€å°æ®µç§»å‹•å„€å¼ã€‚",
            tags: ["TRAIN", "MORNING MOVE"]
          },
          {
            time: "10:30",
            title: "å¥ˆè‰¯å…¬åœ’ Â· å’Œé¹¿ä¿æŒå‰›å¥½çš„è·é›¢",
            type: "PARK",
            location: "å¥ˆè‰¯å…¬åœ’",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Nara+Park",
            description:
              "åœ¨æ¨¹æ—èˆ‡è‰åœ°é–“æ•£æ­¥ï¼Œçœ‹é¹¿æ¥è¿‘ã€é é›¢ï¼Œå˜—è©¦æ‰¾åˆ°ä¸€å€‹å½¼æ­¤éƒ½èˆ’æœçš„è·é›¢ã€‚",
            tags: ["DEER", "GREEN"]
          },
          {
            time: "13:00",
            title: "æ±å¤§å¯ºå‘¨é‚Š Â· åˆé¤èˆ‡æ•£æ­¥",
            type: "LUNCH",
            location: "æ±å¤§å¯ºå‘¨é‚Šå•†åº—èˆ‡é¤å»³",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Todai-ji",
            description:
              "åœ¨æ±å¤§å¯ºå‘¨é‚Šæ‰¾ä¸€é–“é †çœ¼çš„å°åº—ç”¨é¤ï¼Œä¹‹å¾Œä¾ç‹€æ…‹æ±ºå®šè¦ä¸è¦é€²å¯ºå…§åƒè§€ã€‚",
            tags: ["TEMPLES", "OPTIONAL"]
          },
          {
            time: "15:30",
            title: "å¥ˆè‰¯ç”ºè€è¡—",
            type: "WALK",
            location: "å¥ˆè‰¯ç”º",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Naramachi",
            description:
              "å¾€å¥ˆè‰¯ç”ºæ–¹å‘èµ°ï¼Œçœ‹çœ‹è€æˆ¿å­ã€èŒ¶å±‹èˆ‡é›œè²¨åº—ï¼Œå¦‚æœç´¯äº†å°±åœ¨å…¶ä¸­ä¸€é–“åä¹…ä¸€é»ã€‚",
            tags: ["OLD STREET", "TEA"]
          },
          {
            time: "18:00",
            title: "å›å¤§é˜ª Â· æ™šä¸Šç•™çµ¦è‡ªå·±",
            type: "RETURN",
            location: "è¿‘éµå¥ˆè‰¯ç«™ â†’ å¤§é˜ª",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Kintetsu+Nara+Station",
            description:
              "æ­é›»è»Šå›å¤§é˜ªï¼Œé€™ä¸€æ™šä¸ä¸€å®šè¦å®‰æ’è¡Œç¨‹ï¼Œå¯ä»¥å›é£¯åº—æ—©é»ä¼‘æ¯ï¼Œæ•´ç†ç…§ç‰‡èˆ‡å¿ƒæƒ…ã€‚",
            tags: ["RETURN", "REST"]
          }
        ]
      },
      {
        id: 5,
        label: "DAY 05 Â· DEPARTURE",
        heroTitle: "Day 5 Â· æ”¶å°¾èˆ‡å›ç¨‹",
        heroSubtitle:
          "æœ€å¾Œä¸€å¤©æ”¶æ‹¾æˆ¿é–“èˆ‡å¿ƒæƒ…ï¼Œåœ¨æ©Ÿå ´çš„ç­‰å€™æ™‚é–“è£¡ï¼ŒæŠŠé€™è¶Ÿæ—…ç¨‹å¥½å¥½æ”¶æ‰ã€‚",
        heroSummary:
          "ä¸æ˜¯åŒ†å¿™é›¢é–‹ï¼Œè€Œæ˜¯è®“å›ç¨‹æœ¬èº«æˆç‚ºç·©æ…¢çš„çµå°¾ï¼šå†çœ‹ä¸€æ¬¡å¤§é˜ªçš„å¤©ç©ºï¼Œå†ç¢ºèªä¸€æ¬¡è‡ªå·±æƒ³å¸¶èµ°ä»€éº¼ã€‚",
        heroTags: ["CHECK-OUT", "AIRPORT", "RETURN"],
        date: "2025-12-19",
        dateLabel: "2025 å¹´ 12 æœˆ 19 æ—¥ Â· Thu",
        locationLabel: "Osaka Â· Namba / KIX",
        weatherCity: "Osaka",
        eyebrow: "DAY 05 Â· RETURN",
        caption: "æœ€å¾Œä¸€å¤©é ç•™è¶³å¤ ç·©è¡ï¼Œä¸æ¶æ™‚é–“ï¼ŒæŠŠé›¢é–‹ä¹Ÿç•¶æˆæ—…ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚",
        dayRangeLabel: "Day 5 of 5",
        timeline: [
          {
            time: "09:00",
            title: "æœ€å¾Œä¸€æ¬¡åœ¨é™„è¿‘æ•£æ­¥",
            type: "MORNING",
            location: "é£¯åº—å‘¨é‚Šå°è¡—",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Namba+Osaka",
            description:
              "ç°¡å–®åœ¨é£¯åº—é™„è¿‘èµ°ä¸€åœˆï¼Œçœ‹ç™½å¤©ç‰ˆæœ¬çš„è¡—æ™¯ï¼ŒæŠŠé‚„æ²’çœ‹æ¸…æ¥šçš„è§’è½è£œä¸Šã€‚",
            tags: ["MORNING WALK", "GOODBYE"]
          },
          {
            time: "11:00",
            title: "é€€æˆ¿ Â· å‘æˆ¿é–“é“åˆ¥",
            type: "CHECKOUT",
            location: "GRANBELL HOTEL OSAKA NAMBA",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=GRANBELL+HOTEL+OSAKA+NAMBA",
            description:
              "æ•´ç†è¡Œæã€ç¢ºèªæ²’æœ‰éºæ¼ç‰©å“ï¼Œé€€æˆ¿å‰å›é ­çœ‹æˆ¿é–“ä¸€çœ¼ï¼Œè®“è‡ªå·±æœ‰ä¸€å€‹çµæŸçš„æ„Ÿè¦ºã€‚",
            tags: ["CHECK-OUT", "BASE"]
          },
          {
            time: "13:00",
            title: "å‰å¾€é—œè¥¿æ©Ÿå ´",
            type: "TRAIN",
            location: "é›£æ³¢ â†’ KIX",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Kansai+Airport+Station",
            description:
              "æ­ä¹˜å—æµ·é›»éµæˆ–å…¶ä»–äº¤é€šå·¥å…·å‰å¾€æ©Ÿå ´ï¼Œé€”ä¸­çœ‹çª—å¤–æ™¯è‰²å¾€æµ·é‚Šç§»å‹•ã€‚",
            tags: ["TRAIN", "AIRPORT"]
          },
          {
            time: "15:00",
            title: "æ©Ÿå ´è¾¦ç†ç™»æ©Ÿ Â· æœ€å¾Œä¸€æ¯é£²æ–™",
            type: "AIRPORT",
            location: "é—œè¥¿æ©Ÿå ´é›¢å¢ƒå¤§å»³",
            mapsUrl: "https://www.google.com/maps/search/?api=1&query=Kansai+International+Airport+Departure",
            description:
              "è¾¦ç†æ‰˜é‹èˆ‡å‡ºå¢ƒå¾Œï¼Œåœ¨å€™æ©Ÿå®¤æ‰¾ä¸€å€‹é çª—åº§ä½ï¼Œé»ä¸€æ¯é£²æ–™ï¼Œå¯«ä¸‹æœ€å¾Œä¸€æ®µæ‰‹å¸³ã€‚",
            tags: ["BOARDING", "REFLECTION"],
            keywords: [
              {
                label: "å›ç¨‹èˆªç­ JL815",
                modalKey: "flight-jl815"
              }
            ]
          }
        ]
      }
    ];

    const MODAL_CONTENT = {
      "flight-jl812": {
        title: "å»ç¨‹èˆªç­ Â· JL812",
        badge: "FLIGHT Â· OUTBOUND",
        meta: "TPE â†’ KIX Â· å»ºè­°èµ·é£›å‰ 3 å°æ™‚æŠµé”æ©Ÿå ´",
        text: `
          <p>é è¨­å»ç¨‹èˆªç­ç‚º <strong>JL812 å°åŒ— â†’ å¤§é˜ª</strong>ã€‚å¯¦éš›æ™‚é–“å¯ä»¥ä¾ä½ çš„é›»å­æ©Ÿç¥¨ç‚ºæº–ï¼Œé€™è£¡åƒ…ä½œç‚ºæ—…ç¨‹æ‰‹å¸³çš„å ä½è³‡è¨Šã€‚</p>
          <p>å¯ä»¥åœ¨é€™è£¡è‡ªè¡Œè£œä¸Šï¼š</p>
          <ul>
            <li>å¯¦éš›èµ·é£›ï¼æŠµé”æ™‚é–“</li>
            <li>è¨‚ä½ä»£è™Ÿæˆ– QR Code ä¸‹è¼‰ä½ç½®</li>
            <li>åº§ä½å–œå¥½ï¼ˆé çª—ï¼é èµ°é“ï¼‰</li>
          </ul>
        `,
        image: "",
        imageAlt: "",
        footer: "å»ºè­°å‰ä¸€æ™šå°±æŠŠè­·ç…§ã€å¯¦é«”ç¥¨æ“šèˆ‡éš¨èº«è—¥å“æ”¾åˆ°åŒä¸€å€‹å°åŒ…ã€‚"
      },
      "flight-jl815": {
        title: "å›ç¨‹èˆªç­ Â· JL815",
        badge: "FLIGHT Â· RETURN",
        meta: "KIX â†’ TPE Â· å›ç¨‹ä¹Ÿå¯ä»¥æ˜¯æ•´ç†å¿ƒæƒ…çš„æ™‚é–“",
        text: `
          <p>é è¨­å›ç¨‹èˆªç­ç‚º <strong>JL815 å¤§é˜ª â†’ å°åŒ—</strong>ã€‚ä½ å¯ä»¥åœ¨é€™è£¡è¨˜ä¸‹ï¼š</p>
          <ul>
            <li>é è¨ˆåˆ°æ©Ÿå ´çš„æ™‚é–“èˆ‡äº¤é€šæ–¹å¼</li>
            <li>å›ç¨‹å¾Œçš„è¡Œç¨‹ï¼ˆæ˜¯å¦ç›´æ¥å›å®¶æˆ–æœ‰å…¶ä»–å®‰æ’ï¼‰</li>
            <li>é€™è¶Ÿæ—…è¡Œæœ€æƒ³å¸¶å›å»çš„ä¸‰ä»¶äº‹ï¼ˆç‰©å“ï¼ç•«é¢ï¼æ„Ÿå—ï¼‰</li>
          </ul>
        `,
        image: "",
        imageAlt: "",
        footer: "å¦‚æœè¦ºå¾—æ¨ä¸å¾—é›¢é–‹ï¼Œå¯ä»¥åœ¨å€™æ©Ÿå®¤å¯«ä¸€æ®µçµ¦æœªä¾†è‡ªå·±çš„è©±ã€‚"
      },
      "hotel-granbell": {
        title: "ä½å®¿ Â· GRANBELL HOTEL OSAKA NAMBA",
        badge: "HOTEL Â· BASE",
        meta: "å»ºè­°åœ¨é€™è£¡è¨˜ä¸‹åœ°å€ã€é›»è©±èˆ‡è¨‚æˆ¿è³‡è¨Šï¼Œæ–¹ä¾¿æ—…ç¨‹ä¸­éš¨æ™‚æŸ¥è©¢ã€‚",
        text: `
          <p>é€™è£¡å¯ä»¥æ”¾ä¸Šï¼š</p>
          <ul>
            <li>é£¯åº—å®Œæ•´åœ°å€ï¼ˆä¸­ï¼è‹±æ–‡ï¼‰</li>
            <li>é›»è©±èˆ‡åˆ†æ©Ÿï¼ˆé‡åˆ°ç‹€æ³æ™‚å¯ç«‹å³è¯çµ¡ï¼‰</li>
            <li>Check-in / Check-out æ—¥æœŸèˆ‡æ™‚é–“</li>
            <li>è¨‚æˆ¿ç·¨è™Ÿæˆ–é è¨‚å¹³å°ï¼ˆå¦‚ï¼šBooking / Agodaï¼‰</li>
          </ul>
          <p>ä¹Ÿå¯ä»¥å¯«ä¸‹ç¬¬ä¸€æ™šä½é€²ä¾†çš„æ„Ÿè¦ºï¼Œç‚ºé€™å€‹ã€Œå¤§é˜ªåŸºåœ°ã€åšä¸€å€‹ç°¡çŸ­è¨»è§£ã€‚</p>
        `,
        image: "",
        imageAlt: "",
        footer: "å»ºè­°æŠŠé£¯åº—åœ°å€ä¹ŸåŠ å…¥æ‰‹æ©Ÿåœ°åœ–çš„æ”¶è—ï¼Œè¿·è·¯æ™‚æœƒéå¸¸æœ‰ç”¨ã€‚"
      }
    };

    // ======= DOM & RENDER =======

    document.addEventListener("DOMContentLoaded", () => {
      const heroTitleEl = document.getElementById("hero-title");
      const heroSubtitleEl = document.getElementById("hero-subtitle");
      const heroDateEl = document.getElementById("hero-date");
      const heroLocationEl = document.getElementById("hero-location");
      const heroSummaryEl = document.getElementById("hero-summary");
      const heroTagsEl = document.getElementById("hero-tags");
      const heroDayRangeEl = document.getElementById("hero-day-range");
      const heroTodayLabelEl = document.getElementById("hero-today-label");

      const dayEyebrowEl = document.getElementById("day-eyebrow");
      const dayTitleEl = document.getElementById("day-title");
      const dayCaptionEl = document.getElementById("day-caption");
      const timelineEl = document.getElementById("timeline");

      const navGroupEl = document.getElementById("bottom-nav-group");
      const navButtons = Array.from(
        navGroupEl.querySelectorAll(".nav-btn[data-day-index]")
      );
      const cheatBtn = navGroupEl.querySelector(".nav-btn[data-nav-cheat]");

      const modalBackdrop = document.getElementById("modal-backdrop");
      const modalCloseBtn = document.getElementById("modal-close");
      const modalTitleEl = document.getElementById("modal-title");
      const modalBadgeEl = document.getElementById("modal-badge");
      const modalMetaEl = document.getElementById("modal-meta");
      const modalImageEl = document.getElementById("modal-image");
      const modalContentTextEl = document.getElementById("modal-content-text");
      const modalFooterNoteEl = document.getElementById("modal-footer-note");

      const cheatSheetSection = document.getElementById("trip-cheat-sheet");

      let currentDayIndex = 0;

      function renderDay(index) {
        const day = DAYS[index];
        if (!day) return;

        currentDayIndex = index;

        // æ›´æ–° HERO
        heroTitleEl.textContent = day.heroTitle;
        heroSubtitleEl.textContent = day.heroSubtitle;
        heroDateEl.textContent = day.dateLabel;
        heroLocationEl.innerHTML = `<span>ğŸ“</span><span>${day.locationLabel}</span>`;
        heroSummaryEl.textContent = day.heroSummary;
        heroDayRangeEl.textContent = day.dayRangeLabel;

        heroTagsEl.innerHTML = "";
        day.heroTags.forEach((tag) => {
          const span = document.createElement("span");
          span.className = "hero-tag";
          span.textContent = tag;
          heroTagsEl.appendChild(span);
        });

        // æ›´æ–° Section Header
        dayEyebrowEl.textContent = day.eyebrow;
        dayTitleEl.textContent = `TIME Â· LINE Â· DAY ${day.id}`;
        dayCaptionEl.textContent = day.caption;

        // æ›´æ–° Timeline
        timelineEl.innerHTML = "";
        day.timeline.forEach((item, idx) => {
          const wrapper = document.createElement("div");
          wrapper.className = "timeline-item";

          const timeCol = document.createElement("div");
          timeCol.className = "timeline-time";
          timeCol.textContent = item.time;

          const dot = document.createElement("div");
          dot.className = "timeline-dot";
          timeCol.appendChild(dot);

          if (idx < day.timeline.length - 1) {
            const line = document.createElement("div");
            line.className = "timeline-line";
            timeCol.appendChild(line);
          }

          const card = document.createElement("article");
          card.className = "timeline-card";
          card.setAttribute("aria-label", `${item.time} Â· ${item.title}`);

          const inner = document.createElement("div");
          inner.className = "timeline-card-inner";

          const header = document.createElement("div");
          header.className = "timeline-card-header";

          const titleEl = document.createElement("h3");
          titleEl.className = "timeline-card-title";
          titleEl.textContent = item.title;

          const typeEl = document.createElement("div");
          typeEl.className = "timeline-card-type";
          typeEl.textContent = item.type;

          header.appendChild(titleEl);
          header.appendChild(typeEl);

          const locEl = document.createElement("div");
          locEl.className = "timeline-location";
          if (item.mapsUrl) {
            locEl.innerHTML = `ğŸ“ <a href="${item.mapsUrl}" target="_blank" rel="noopener noreferrer">${item.location}</a>`;
          } else {
            locEl.textContent = item.location || "";
          }

          const bodyEl = document.createElement("div");
          bodyEl.className = "timeline-body";

          // è™•ç†å…§æ–‡ä¸­çš„ keyword-link
          let descHtml = item.description || "";
          if (item.keywords && item.keywords.length > 0) {
            item.keywords.forEach((kw) => {
              const safeLabel = kw.label.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
              const regex = new RegExp(safeLabel, "g");
              descHtml = descHtml.replace(
                regex,
                `<span class="keyword-link" data-modal-key="${kw.modalKey}">${kw.label}</span>`
              );
            });
          }
          bodyEl.innerHTML = descHtml;

          const tagsEl = document.createElement("div");
          tagsEl.className = "timeline-tags";
          (item.tags || []).forEach((t) => {
            const tagEl = document.createElement("span");
            tagEl.className = "timeline-tag";
            tagEl.textContent = t;
            tagsEl.appendChild(tagEl);
          });

          inner.appendChild(header);
          inner.appendChild(locEl);
          inner.appendChild(bodyEl);
          if ((item.tags || []).length > 0) inner.appendChild(tagsEl);
          card.appendChild(inner);

          wrapper.appendChild(timeCol);
          wrapper.appendChild(card);
          timelineEl.appendChild(wrapper);
        });

        // æ›´æ–° Bottom Nav Active ç‹€æ…‹
        navButtons.forEach((btn) => {
          const idxAttr = Number(btn.getAttribute("data-day-index"));
          btn.classList.toggle("active", idxAttr === index);
        });

        // æ²å‹•åˆ°é é¢ä¸Šæ–¹
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });

        // å‘¼å«å¤©æ°£
        fetchWeather(day.weatherCity);
      }

      // æ›´æ–° Hero ä¸­ã€Œä»Šå¤©ã€æ¨™ç±¤ï¼ˆå–®ç´”è¦–è¦ºæç¤ºï¼‰
      function updateTodayLabel() {
        const now = new Date();
        const y = now.getFullYear();
        const m = String(now.getMonth() + 1).padStart(2, "0");
        const d = String(now.getDate()).padStart(2, "0");
        heroTodayLabelEl.textContent = `ä»Šå¤© Â· ${y}/${m}/${d}`;
      }

      // å¤©æ°£ APIï¼šOpenWeather
      async function fetchWeather(city) {
        const tempEl = document.getElementById("hero-temp");
        const descEl = document.getElementById("hero-weather-desc");

        const API_KEY = "114990648a29158a87a2f3950a472776";
        const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(
          city
        )},JP&units=metric&lang=zh_tw&appid=${API_KEY}`;

        try {
          if (!API_KEY) {
            tempEl.textContent = "--Â°C";
            descEl.textContent = `å¤©æ°£è³‡æ–™å°šæœªè¨­å®š API keyï¼ˆç›®å‰åŸå¸‚ï¼š${city}ï¼‰`;
            return;
          }

          const res = await fetch(url);
          if (!res.ok) throw new Error("Weather API error");
          const data = await res.json();
          const temp = Math.round(data.main.temp);
          const desc = data.weather[0]?.description || "å¤©æ°£ç‹€æ³";

          tempEl.textContent = `${temp}Â°C`;
          descEl.textContent = `${city} Â· ${desc}`;
        } catch (err) {
          tempEl.textContent = "--Â°C";
          descEl.textContent = `ç„¡æ³•è¼‰å…¥å¤©æ°£ï¼ˆ${city}ï¼‰ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚`;
        }
      }

      // Modal é–‹é—œ
      function openModal(key) {
        const info = MODAL_CONTENT[key];
        if (!info) {
          modalTitleEl.textContent = "è©³ç´°è³‡è¨Š";
          modalBadgeEl.textContent = "DETAIL";
          modalMetaEl.textContent = "";
          modalContentTextEl.innerHTML =
            "<p>é€™è£¡å¯ä»¥æ”¾ä¸Šèˆ‡æ­¤é—œéµå­—ç›¸é—œçš„å‚™è¨»èˆ‡æˆªåœ–é€£çµã€‚</p>";
          modalImageEl.style.display = "none";
          modalFooterNoteEl.textContent = "";
        } else {
          modalTitleEl.textContent = info.title;
          modalBadgeEl.textContent = info.badge;
          modalMetaEl.textContent = info.meta;
          modalContentTextEl.innerHTML = info.text;

          if (info.image) {
            modalImageEl.src = info.image;
            modalImageEl.alt = info.imageAlt || "";
            modalImageEl.style.display = "block";
          } else {
            modalImageEl.style.display = "none";
          }
          modalFooterNoteEl.textContent = info.footer || "";
        }

        modalBackdrop.classList.add("active");
        modalBackdrop.setAttribute("aria-hidden", "false");
      }

      function closeModal() {
        modalBackdrop.classList.remove("active");
        modalBackdrop.setAttribute("aria-hidden", "true");
      }

      // Event: Bottom Nav åˆ‡æ›
      navButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const idx = Number(btn.getAttribute("data-day-index"));
          if (!Number.isNaN(idx)) {
            renderDay(idx);
          }
        });
      });

      // Event: CHEAT æŒ‰éˆ•
      if (cheatBtn) {
        cheatBtn.addEventListener("click", () => {
          const rect = cheatSheetSection.getBoundingClientRect();
          const offset = window.scrollY + rect.top - 80;
          window.scrollTo({
            top: offset,
            behavior: "smooth"
          });
          navButtons.forEach((btn) => btn.classList.remove("active"));
          cheatBtn.classList.add("active");
        });
      }

      // Event: Timeline èˆ‡ Cheat Sheet çš„ keyword linkï¼ˆäº‹ä»¶å§”æ´¾ï¼‰
      document.body.addEventListener("click", (e) => {
        const target = e.target;
        if (target && target.classList && target.classList.contains("keyword-link")) {
          const key = target.getAttribute("data-modal-key");
          if (key) {
            openModal(key);
          }
        }
      });

      // Event: Modal é—œé–‰
      modalCloseBtn.addEventListener("click", closeModal);
      modalBackdrop.addEventListener("click", (e) => {
        if (e.target === modalBackdrop) {
          closeModal();
        }
      });
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          if (modalBackdrop.classList.contains("active")) {
            closeModal();
          }
        }
      });

      // åˆå§‹åŒ–
      updateTodayLabel();
      renderDay(0);
    });
  </script>
</body>
</html>
