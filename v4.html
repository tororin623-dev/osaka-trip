<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="no-referrer">
  <title>Osaka 5-Day Strategy Â· Slow Travel Journal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-body: #f4f1ea;
      --bg-card: #fdfaf6;
      --bg-hero: #efece5;
      --bg-chip: #fffbf5;

      --ink-main: #332c26;
      --ink-muted: #7d7266;
      --ink-soft: #a89c8e;
      --ink-accent: #a67c52;

      --border-soft: #e6ded5;
      --border-strong: #cbbba8;

      --accent: #b08d55;
      --accent-soft: rgba(176, 141, 85, 0.12);

      --shadow-soft: 0 10px 30px rgba(66, 56, 46, 0.08);
      --radius-card: 16px;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0; padding: 0;
      background: var(--bg-body);
      font-family: "Noto Serif TC", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--ink-main);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }

    body { min-height: 100vh; padding: 14px 10px 96px; }

    @media (min-width: 768px) {
      body { display: flex; justify-content: center; padding: 32px 20px 110px; }
    }

    .app-shell {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      background: var(--bg-card);
      border-radius: 20px;
      border: 1px solid rgba(166, 124, 82, 0.2);
      box-shadow: var(--shadow-soft);
      padding: 20px 16px 110px;
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .app-shell { padding: 32px 32px 120px; }
    }

    /* subtle texture overlay */
    .app-shell::before{
      content:"";
      position:absolute; inset:0;
      background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");
      pointer-events:none;
      z-index:0;
    }
    .app-inner{ position:relative; z-index:1; }

    /* EDIT */
    .edit-toggle {
      position: absolute;
      top: 18px; right: 18px;
      z-index: 50;
      background: rgba(255, 255, 255, 0.6);
      border: 1px solid var(--border-strong);
      padding: 5px 12px;
      border-radius: 999px;
      font-family: system-ui, sans-serif;
      font-size: 0.78rem;
      color: var(--ink-muted);
      cursor: pointer;
      transition: all 0.2s ease;
      letter-spacing: 0.05em;
      backdrop-filter: blur(8px);
    }
    .edit-toggle.active {
      background: var(--accent);
      color: #fff;
      border-color: var(--accent);
    }
    [contenteditable="true"]{
      outline: 1px dashed var(--accent);
      outline-offset: 2px;
      background: rgba(255, 255, 255, 0.55);
      border-radius: 6px;
      padding: 1px 4px;
    }

    .eyebrow {
      font-size: 0.75rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--ink-soft);
      font-family: system-ui, sans-serif;
      font-weight: 500;
    }
    h1,h2,h3,h4{ margin:0; font-weight:600; letter-spacing:0.02em; }
    p{ margin:0 0 .8em; line-height:1.75; font-size:.95rem; color:var(--ink-main); }

    /* HERO */
    .hero{
      background: var(--bg-hero);
      border-radius: 18px;
      padding: 24px 20px;
      margin-bottom: 24px;
      position: relative;
    }
    .hero-grid{
      display:grid;
      grid-template-columns: minmax(0, 1.6fr) minmax(0, 1fr);
      gap: 24px;
    }
    @media (max-width: 700px){ .hero-grid{ grid-template-columns: 1fr; } }

    .hero-title{ font-size: 1.62rem; margin-top: 8px; color: var(--ink-main); }
    .hero-subtitle{ font-size: 0.92rem; color: var(--ink-muted); margin-top: 8px; line-height: 1.6; }

    .hero-meta-row{
      display:flex; flex-wrap:wrap; gap:12px;
      margin-top:16px; align-items:center;
      font-size:.85rem; color: var(--ink-muted);
      font-family: system-ui, sans-serif;
    }
    .pill{
      display:inline-flex; align-items:center; gap:6px;
      padding: 4px 12px;
      border-radius: 999px;
      background:#fff;
      border: 1px solid rgba(0,0,0,0.05);
      font-size: .75rem;
      color: var(--ink-muted);
      box-shadow: 0 1px 2px rgba(0,0,0,0.03);
    }
    .pill-icon{ width:6px; height:6px; border-radius:50%; background: var(--accent); }
    .meta-item{ display:inline-flex; align-items:center; gap:6px; }

    .hero-secondary{
      background:#2c241b;
      border-radius:14px;
      padding:16px;
      color:#eaddcf;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      box-shadow: 0 10px 20px rgba(44,36,27,.25);
      min-height: 150px;
    }
    .hero-secondary h3{
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.15em;
      color:#bcaaa4;
      margin-bottom:8px;
      font-family:system-ui,sans-serif;
      font-weight:600;
    }
    .hero-secondary p{
      color: rgba(234,221,207,.92);
      font-size: .9rem;
      margin-bottom: 12px;
      line-height: 1.6;
    }
    .tags{ display:flex; flex-wrap:wrap; gap:6px; }
    .tag{
      padding:3px 8px;
      border:1px solid rgba(255,255,255,.22);
      border-radius: 5px;
      font-size: .7rem;
      text-transform: uppercase;
      letter-spacing: .06em;
      color: rgba(255,255,255,.82);
      font-family: system-ui, sans-serif;
    }

    /* TIMELINE */
    .timeline{ margin-top: 10px; padding-left: 10px; }
    .timeline-item{
      display:grid;
      grid-template-columns: 60px 1fr;
      gap: 16px;
      padding-bottom: 24px;
      position: relative;
    }
    .timeline-time{
      text-align:right;
      font-size:.85rem;
      color: var(--ink-muted);
      font-family: system-ui, sans-serif;
      padding-top:2px;
      position: relative;
    }
    .timeline-line{
      position:absolute;
      top: 24px;
      right: -8px;
      bottom: -16px;
      width:1px;
      background: rgba(166,124,82,.3);
      z-index:0;
    }
    .timeline-item:last-child .timeline-line{ display:none; }
    .timeline-dot{
      position:absolute;
      top:6px;
      right:-12px;
      width:9px; height:9px;
      border-radius:50%;
      background:#fff;
      border:2px solid var(--accent);
      z-index:1;
    }
    .timeline-card{
      background:#fff;
      border: 1px solid var(--border-soft);
      border-radius: 12px;
      padding: 14px 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.02);
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .timeline-card:hover{
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.06);
      border-color: var(--border-strong);
    }
    .timeline-header{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      margin-bottom:6px;
      gap:10px;
    }
    .timeline-title{
      font-size: 1rem;
      color: var(--ink-main);
      font-weight: 600;
    }
    .timeline-type{
      font-size: .7rem;
      text-transform: uppercase;
      letter-spacing: .1em;
      color: var(--ink-soft);
      font-family: system-ui, sans-serif;
      white-space:nowrap;
    }
    .timeline-location{
      font-size:.8rem;
      color: var(--ink-muted);
      margin-bottom: 8px;
      display:flex;
      align-items:center;
      gap:4px;
      font-family: system-ui, sans-serif;
    }
    .timeline-location a{
      color: var(--ink-accent);
      text-decoration:none;
      border-bottom: 1px dashed transparent;
    }
    .timeline-location a:hover{ border-bottom-color: var(--ink-accent); }
    .timeline-body{ font-size:.92rem; color: var(--ink-main); line-height:1.65; }

    .keyword-link{
      color: var(--ink-accent);
      font-weight: 600;
      cursor:pointer;
      border-bottom:1px dotted var(--ink-accent);
      transition: background .2s;
      padding: 0 2px;
      border-radius: 3px;
    }
    .keyword-link:hover{ background: var(--accent-soft); }

    /* PHOTO BREAK (local image + film overlays) */
    .photo-break{
      margin: 24px 0 10px;
      background:#fff;
      border: 1px solid var(--border-soft);
      border-radius: 12px;
      overflow:hidden;
      display:grid;
      grid-template-columns: 1fr;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    @media(min-width: 600px){ .photo-break{ grid-template-columns: 1.2fr 1fr; } }

    .photo-wrapper{
      position:relative;
      min-height: 260px;
      background: linear-gradient(135deg, #e8ded1 0%, #d8c6b3 100%);
      overflow:hidden;
      isolation:isolate;
    }

    /* the image */
    .photo-img{
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit:cover;
      filter: contrast(.92) saturate(.9) brightness(.98);
      transform: scale(1.02);
    }

    /* film grain */
    .photo-wrapper::before{
      content:"";
      position:absolute; inset:-20%;
      background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.18'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      opacity:.55;
      pointer-events:none;
      z-index:2;
      transform: rotate(2deg);
    }

    /* window grid */
    .photo-wrapper::after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(to right, rgba(255,255,255,.10) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.10) 1px, transparent 1px);
      background-size: 120px 120px;
      mix-blend-mode: soft-light;
      opacity: .25;
      pointer-events:none;
      z-index:3;
    }

    /* bokeh + vignette layer */
    .photo-overlay{
      position:absolute; inset:0;
      z-index:4;
      pointer-events:none;
      background:
        radial-gradient(circle at 18% 22%, rgba(255,230,190,.35) 0 18%, transparent 22%),
        radial-gradient(circle at 70% 28%, rgba(255,240,220,.22) 0 14%, transparent 18%),
        radial-gradient(circle at 88% 62%, rgba(255,225,190,.18) 0 16%, transparent 20%),
        radial-gradient(circle at 30% 80%, rgba(255,255,255,.10) 0 18%, transparent 22%),
        radial-gradient(ellipse at center, transparent 55%, rgba(0,0,0,.25) 100%);
      mix-blend-mode: screen;
      opacity: .9;
    }

    /* landmark silhouette */
    .photo-silhouette{
      position:absolute; inset:0;
      z-index:5;
      pointer-events:none;
      opacity:.22;
      mix-blend-mode: multiply;
      background-repeat:no-repeat;
      background-position: 92% 88%;
      background-size: 40% auto;
      filter: blur(.15px);
    }

    /* per-day silhouette SVGs */
    .sil-day1{ /* street skyline */
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 300'%3E%3Cpath d='M40 260V170h40v30h30v-70h50v40h30v-90h60v60h40v-40h40v100h30v-60h60v30h30v-50h50v120H40z' fill='%232c241b'/%3E%3Cpath d='M420 170c40-30 80-30 120 0' stroke='%232c241b' stroke-width='10' fill='none' opacity='.7'/%3E%3C/svg%3E");
    }
    .sil-day2{ /* river bridge */
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 300'%3E%3Cpath d='M60 230c80-70 160-70 240 0s160 70 240 0' stroke='%232c241b' stroke-width='14' fill='none'/%3E%3Cpath d='M60 230v50h480v-50' fill='%232c241b' opacity='.65'/%3E%3Ccircle cx='120' cy='230' r='10' fill='%232c241b'/%3E%3Ccircle cx='480' cy='230' r='10' fill='%232c241b'/%3E%3C/svg%3E");
    }
    .sil-day3{ /* osaka castle */
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 300'%3E%3Cpath d='M160 260v-80h40v-40h40v-30h40v30h40v40h40v80H160z' fill='%232c241b'/%3E%3Cpath d='M200 140h200l-20-30H220z' fill='%232c241b' opacity='.75'/%3E%3Cpath d='M240 110h120l-10-20h-100z' fill='%232c241b' opacity='.75'/%3E%3Cpath d='M300 70v-20' stroke='%232c241b' stroke-width='10'/%3E%3Ccircle cx='300' cy='45' r='10' fill='%232c241b'/%3E%3C/svg%3E");
    }
    .sil-day4{ /* deer */
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 300'%3E%3Cpath d='M220 250c0-40 20-70 60-90 40-20 90-10 120 20 20 20 30 50 20 70-10 20-30 30-60 30h-50l-10 30h-40l-10-30h-30z' fill='%232c241b'/%3E%3Cpath d='M340 150c20-20 30-40 30-60 20 10 30 30 30 50' stroke='%232c241b' stroke-width='10' fill='none'/%3E%3Cpath d='M300 150c-10-30-20-50-40-70-20 20-20 40-10 60' stroke='%232c241b' stroke-width='10' fill='none'/%3E%3C/svg%3E");
    }
    .sil-day5{ /* wing */
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 300'%3E%3Cpath d='M80 210c140-80 280-110 440-120-90 60-150 110-220 180-80-20-150-40-220-60z' fill='%232c241b'/%3E%3Cpath d='M320 175c30-20 60-30 110-45' stroke='%23fdfaf6' stroke-width='10' opacity='.25'/%3E%3C/svg%3E");
    }

    .photo-content{
      padding: 24px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      background: rgba(255,255,255,0.78);
      backdrop-filter: blur(10px);
    }

    /* BOTTOM NAV */
    .bottom-nav{
      position: fixed; bottom:0; left:0; right:0;
      background: rgba(253,250,246,0.95);
      border-top: 1px solid var(--border-soft);
      backdrop-filter: blur(12px);
      padding: 10px 16px calc(10px + env(safe-area-inset-bottom));
      z-index: 100;
      display:flex;
      justify-content:center;
    }
    .nav-scroll{
      display:flex;
      gap: 8px;
      overflow-x:auto;
      padding-bottom: 4px;
      max-width: 100%;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .nav-scroll::-webkit-scrollbar{ display:none; }

    .nav-btn{
      flex:0 0 auto;
      padding: 8px 14px;
      border-radius: 999px;
      background: transparent;
      border: 1px solid var(--border-strong);
      color: var(--ink-muted);
      font-size: .75rem;
      font-weight: 600;
      letter-spacing: .05em;
      cursor: pointer;
      transition: all .2s;
      display:flex;
      align-items:center;
      gap:6px;
      font-family: system-ui, sans-serif;
      white-space:nowrap;
    }
    .nav-btn-dot{
      width:6px;height:6px;border-radius:50%;
      background: transparent;
      border: 1px solid var(--ink-muted);
    }
    .nav-btn.active{
      background: var(--ink-main);
      color:#fff;
      border-color: var(--ink-main);
    }
    .nav-btn.active .nav-btn-dot{
      background: var(--accent);
      border-color: var(--accent);
    }
    .nav-btn.special{
      border-color: var(--accent);
      color: var(--ink-accent);
    }
    .nav-btn.special.active{
      background: var(--accent);
      color:#fff;
    }

    /* DRAWER + MODAL */
    .backdrop{
      position: fixed; inset:0;
      background: rgba(30,25,20,0.42);
      z-index:150;
      opacity:0;
      pointer-events:none;
      transition: opacity .25s;
    }
    .backdrop.active{ opacity:1; pointer-events:auto; }

    .drawer{
      position: fixed; bottom:0; left:0; right:0;
      background: #fdfaf6;
      border-radius: 20px 20px 0 0;
      max-height: 85vh;
      transform: translateY(105%);
      transition: transform .28s cubic-bezier(.2,.8,.2,1);
      z-index:160;
      display:flex;
      flex-direction:column;
      box-shadow: 0 -10px 40px rgba(0,0,0,.2);
    }
    .drawer.active{ transform: translateY(0); }

    .drawer-header{
      padding: 16px 20px;
      border-bottom: 1px solid var(--border-soft);
      display:flex;
      justify-content:space-between;
      align-items:center;
      background: rgba(253,250,246,0.98);
      border-radius: 20px 20px 0 0;
    }
    .drawer-title{ font-size: 1rem; font-weight: 700; color: var(--ink-main); }
    .drawer-close{ background:none; border:none; font-size: 1.5rem; color: var(--ink-muted); cursor:pointer; padding: 0 8px; }
    .drawer-content{ padding: 20px; overflow-y:auto; }

    .strategy-card{
      background:#fff;
      border: 1px solid var(--border-soft);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 14px;
    }
    .strategy-card h3{
      font-size:.85rem;
      color: var(--ink-accent);
      text-transform: uppercase;
      letter-spacing:.1em;
      margin: 0 0 10px;
      font-family: system-ui, sans-serif;
      font-weight: 800;
    }
    .strategy-card p{ font-size:.92rem; margin: 0 0 8px; }
    .strategy-list{ padding-left: 20px; margin:0; }
    .strategy-list li{ margin-bottom: 6px; font-size:.92rem; color: var(--ink-muted); line-height:1.55; }

    .modal{
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%) scale(.96);
      width: 92%;
      max-width: 420px;
      background:#fff;
      border-radius: 16px;
      padding: 22px;
      z-index:170;
      opacity:0;
      pointer-events:none;
      transition: all .18s ease;
      box-shadow: 0 20px 60px rgba(0,0,0,0.22);
    }
    .backdrop.active .modal{ opacity:1; pointer-events:auto; transform: translate(-50%, -50%) scale(1); }
    .modal-h{ font-size: 1.1rem; margin:0 0 4px; }
    .modal-sub{
      font-size:.75rem;
      text-transform: uppercase;
      color: var(--ink-soft);
      letter-spacing: .1em;
      margin-bottom: 14px;
      font-family: system-ui, sans-serif;
      font-weight: 700;
    }
    .modal-body{
      font-size: .95rem;
      color: var(--ink-muted);
      line-height: 1.75;
    }
  </style>
</head>

<body>
  <div class="app-shell">
    <button id="edit-toggle" class="edit-toggle">âœ EDIT</button>

    <div class="app-inner">
      <header class="hero">
        <div class="hero-grid">
          <div>
            <div class="eyebrow" id="day-eyebrow">DAY 01 Â· STRATEGY</div>
            <h1 class="hero-title" id="day-title">Arrival & Winter Gear</h1>
            <p class="hero-subtitle" id="day-subtitle">...</p>

            <div class="hero-meta-row">
              <div class="pill"><span class="pill-icon"></span><span id="day-date">2025/12/15 Â· Mon</span></div>
              <div class="meta-item">ğŸ“ <span id="day-location">KIX Â· Rinku Town</span></div>
              <div class="meta-item">ğŸŒ¡ï¸ <span id="weather-display">Loading...</span></div>
            </div>
          </div>

          <div class="hero-secondary">
            <div>
              <h3>ä»Šæ—¥ç­–ç•¥ Â· STRATEGY</h3>
              <p id="day-strategy">...</p>
            </div>
            <div class="tags" id="day-tags"></div>
          </div>
        </div>
      </header>

      <main id="timeline" class="timeline"></main>

      <div class="photo-break">
        <div class="photo-wrapper" id="photo-wrapper">
          <img id="photo-img" class="photo-img" src="" alt="" />
          <div class="photo-overlay"></div>
          <div id="photo-silhouette" class="photo-silhouette sil-day1"></div>
        </div>
        <div class="photo-content">
          <div class="eyebrow">VIBE CHECK</div>
          <h3 id="photo-title">Title</h3>
          <p id="photo-desc">Description</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <div class="nav-scroll" id="nav-container"></div>
  </nav>

  <!-- Drawer -->
  <div class="backdrop" id="backdrop"></div>
  <div class="drawer" id="drawer">
    <div class="drawer-header">
      <div class="drawer-title">æ—…ç¨‹å°æŠ„ Â· TRIP CHEAT SHEET</div>
      <button class="drawer-close" id="drawer-close">âœ•</button>
    </div>
    <div class="drawer-content">
      <div class="strategy-card">
        <h3>æ ¸å¿ƒåŸå‰‡ Â· CORE PRINCIPLES</h3>
        <p>æ…¢åŠæ‹ Ã— æœ‰ç­–ç•¥çš„åŸå¸‚æ—…è¡Œï¼ˆä½ è¦çš„æ˜¯ç²¾ç·»ã€ä¸æ˜¯å¡æ»¿ï¼‰ã€‚</p>
        <ul class="strategy-list">
          <li><strong>Day 1 å†¬è£å…ˆæ±ºï¼š</strong>å¤–å¥—ã€ç™¼ç†±è¡£ã€åœå·¾ä¸€æ¬¡æå®šã€‚å¾Œé¢ä¸èƒŒè³¼ç‰©è¢‹è·‘è¡Œç¨‹ã€‚</li>
          <li><strong>Day 2 ç¼ºè²¨é¢¨éšªï¼š</strong>å½©å¦ / è¯åçœ‹åˆ°å°±è²·ï¼Œé¿å…å¾Œæ‚”å›é ­ã€‚</li>
          <li><strong>Day 3 é«”åŠ›èª¿ç¯€ï¼š</strong>å¤§é˜ªåŸæ˜¯ã€Œå…‰å½±ï¼‹æ¨¹å½±ã€ï¼Œä¸æ˜¯ã€Œæ‰“å¡çˆ¬æ¨“ã€ã€‚</li>
          <li><strong>Day 4 å¥ˆè‰¯ç•™ç™½ï¼š</strong>ä¸è¿½é»ã€ä¸è¶•è·¯ï¼Œè·Ÿè‘—é¹¿èµ°ï¼Œè®“è…¦è¢‹è®Šå®‰éœã€‚</li>
          <li><strong>Day 5 å„€å¼æ„Ÿæ”¶å°¾ï¼š</strong>æœ€å¾Œä¸€æ¯å’–å•¡ï¼‹æœ€å¾Œä¸€å€‹çª—å¤–è¦–è§’ï¼æ—…ç¨‹æ›¸ç±¤ã€‚</li>
        </ul>
      </div>

      <div class="strategy-card">
        <h3>ä½å®¿ Â· HOTEL</h3>
        <p><strong>GRANBELL HOTEL OSAKA NAMBA</strong></p>
        <p style="font-size:0.88rem;color:var(--ink-muted);margin:0;">
          å¤§é˜ªé›£æ³¢æ ¼è˜­è²çˆ¾é…’åº—<br>
          ã€’556-0011 å¤§é˜ªå¸‚æµªé€Ÿå€é›£æ³¢ä¸­2-6-7
        </p>
      </div>

      <div class="strategy-card">
        <h3>èˆªç­ Â· FLIGHTS (JL)</h3>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;font-family:system-ui,sans-serif;">
          <div>
            <strong>å»ç¨‹ JL812</strong><br>
            <span style="font-size:0.84rem;color:var(--ink-muted);">08:20 TPE â†’ 11:50 KIX</span>
          </div>
          <div>
            <strong>å›ç¨‹ JL815</strong><br>
            <span style="font-size:0.84rem;color:var(--ink-muted);">19:20 KIX â†’ 21:35 TPE</span>
          </div>
        </div>
      </div>

      <div class="strategy-card">
        <h3>ç•¶æ—¥å¾®è¦å‰‡ Â· MICRO RULES</h3>
        <ul class="strategy-list">
          <li><strong>è³¼ç‰©è¢‹ä¸Šé™ï¼š</strong>ä¸€å¤©æœ€å¤š 1 è¢‹ï¼Œè¶…éå°±å›é£¯åº—æ”¾ã€‚</li>
          <li><strong>æ±ºç­–ç–²å‹ï¼š</strong>åˆé¤å‰ä¸åšã€Œé«˜å–®åƒ¹ã€æ±ºç­–ï¼Œç•™åˆ°ç²¾ç¥æœ€ç©©æ™‚ã€‚</li>
          <li><strong>ç…§ç‰‡ç­–ç•¥ï¼š</strong>æ¯å¤©åªè¦ 1 å¼µã€Œåƒå°é¢ã€çš„ç…§ç‰‡å°±å¤ ã€‚</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <h3 class="modal-h" id="modal-title">Title</h3>
    <div class="modal-sub" id="modal-sub">Subtitle</div>
    <div class="modal-body" id="modal-body">Content</div>
  </div>

  <script>
    /* ========== LOCAL IMAGES (ä½  repo çš„ assets) ========== */
    const LOCAL_IMAGES = [
      "./assets/day1.png?v=10",
      "./assets/day2.png?v=10",
      "./assets/day3.png?v=10",
      "./assets/day4.png?v=10",
      "./assets/day5.png?v=10",
    ];

    /* ========== MODAL DETAILS ========== */
    const modalDetails = {
      "TNF": "è‡¨ç©ºåŸè²·å¤–å¥—çš„é‡é»ï¼šåªçœ‹ä½ æœƒã€ç«‹åˆ»ç©¿ä¸Šã€çš„ä¿æš–å±¤ï¼Œé¿å…è²·åˆ°æ¼‚äº®ä½†ä¸å¯¦ç©¿ã€‚å„ªå…ˆæŒ‘ä¸­é•·ç‰ˆæˆ–å¯æŠ—é¢¨æè³ªã€‚",
      "BEAMS": "Outlet çš„ BEAMS å¾ˆé©åˆè²·ã€è³ªæ„ŸåŸºæœ¬æ¬¾ã€ã€‚å…ˆæŠ“ç‰ˆå‹ï¼ˆè‚©ç·š/è¡£é•·ï¼‰ï¼Œå†æ±ºå®šé¡è‰²ï¼Œé¿å…è¡å‹•æ¬¾ã€‚",
      "EXCEL": "Excel ç†±é–€è‰²å¸¸ç¼ºè²¨ã€‚å»ºè­°å…ˆé–å®šè‰²è™Ÿï¼Œé€²åº—ç›´æ¥å•ï¼Œè²·åˆ°å°±æ”¶å·¥ã€‚",
      "CANMAKE": "é‡é»æ˜¯ã€ç•¶å­£æ–°è‰²ã€èˆ‡å°ç‰©ã€‚çœ‹åˆ°å°±è²·ï¼Œåˆ¥æœŸå¾…éš”å¤©é‚„æœ‰ã€‚",
      "CPB": "é«˜å–®åƒ¹è«‹åœ¨ã€ç²¾ç¥æœ€å¥½ã€å…‰ç·šæœ€å¥½ã€çš„æ™‚æ®µè©¦è‰²ã€‚é€€ç¨…æµç¨‹è¦ç•™æ™‚é–“ã€‚",
    };

    /* ========== DATA MODEL (ä¿ç•™ä½  v4 çš„æ•˜äº‹çµæ§‹) ========== */
    const itinerary = [
      {
        id: 0,
        label: "DAY 01",
        date: "2025/12/15 Â· Mon",
        location: "KIX Â· Rinku Town",
        eyebrow: "DAY 01 Â· ARRIVAL",
        title: "Arrival & Winter Gear",
        subtitle: "å¾å·¥ä½œæ¨¡å¼ç™»å‡ºï¼Œå°‡ç¬¬ä¸€å¤©é‡é»æ”¾åœ¨ã€Œå†¬è£è£œé½Šã€èˆ‡ã€Œèª¿æ•´ç¯€å¥ã€ã€‚",
        strategy: "è‡¨ç©ºåŸæ ¸å¿ƒä»»å‹™ï¼šä¸€æ¬¡è§£æ±ºä¿æš–å¤–å¥—èˆ‡å†¬å­£é…ä»¶ï¼ˆ<strong>TNF</strong> / <strong>BEAMS</strong>ï¼‰ï¼Œé¿å…å¾Œé¢å¹¾å¤©ç‚ºäº†è²·è¡£æœåˆ†å¿ƒã€‚",
        tags: ["WINTER GEAR", "RINKU OUTLET", "SLOW START"],
        weatherCity: "Osaka",
        photo: {
          title: "è‡¨ç©ºåŸçš„å¤œè‰²èˆ‡é¢¨",
          desc: "ç¬¬ä¸€å¤©ä¸è¿½æ™¯é»ï¼ŒåªæŠŠèº«é«”èª¿åˆ°ã€å¯ä»¥æ…¢æ…¢èµ°ã€çš„é€Ÿåº¦ã€‚",
          silhouetteClass: "sil-day1"
        },
        timeline: [
          { time: "11:50", type: "ARRIVAL", title: "æŠµé”é—œè¥¿æ©Ÿå ´ (JL812)", location: "KIX T1", desc: "ä¸‹æ©Ÿå¾Œä¸æ€¥è‘—é€²å¸‚å€ã€‚å…ˆç¢ºèª ICOCAã€ç¶²è·¯èˆ‡ä¿æš–ç¨‹åº¦ã€‚" },
          { time: "13:30", type: "LUNCH", title: "Rinku Town åˆé¤", location: "Rinku Town", desc: "åœ¨æµ·é‚Šé¤å»³ç°¡å–®ç”¨é¤ï¼Œçœ‹æµ·ï¼Œè®“èº«é«”åˆ‡æ›ã€‚" },
          { time: "15:00", type: "SHOPPING", title: "å†¬è£æˆ°ç•¥æ¡è³¼", location: "Rinku Premium Outlets",
            desc: "ç›®æ¨™æ˜ç¢ºï¼šå¤–å¥—ã€ç™¼ç†±è¡£ã€åœå·¾ã€‚å„ªå…ˆé †åºï¼š1) TNF 2) BEAMS 3) é‹ï¼ˆå¥½èµ°ï¼‰ã€‚",
            keywords: ["TNF","BEAMS"]
          },
          { time: "18:30", type: "MOVE", title: "å‰å¾€é›£æ³¢é£¯åº—", location: "GRANBELL HOTEL OSAKA NAMBA", desc: "Check-in æ”¾ç½®æˆ°åˆ©å“ï¼Œå»ºç«‹äº”å¤©åŸºåœ°ã€‚" },
          { time: "20:00", type: "DINNER", title: "è‡ªç”±è»’ é›£æ³¢æœ¬åº—", location: "è‡ªç”±è»’ é›£æ³¢æœ¬åº—", desc: "ç°¡å–®åƒåç‰©å’–å“©ï¼Œæ—©é»ä¼‘æ¯ã€‚" }
        ]
      },
      {
        id: 1,
        label: "DAY 02",
        date: "2025/12/16 Â· Tue",
        location: "Umeda Â· Kitahama",
        eyebrow: "DAY 02 Â· CITY STRATEGY",
        title: "Strategic Shopping & City Vibe",
        subtitle: "å…ˆè§£æ±ºæ¸…å–®ï¼Œå†æ…¢æ…¢èµ°ï¼šä¸Šåˆè™•ç†ç¼ºè²¨é¢¨éšªé«˜çš„å“é …ï¼Œä¸‹åˆç•™çµ¦æ²³å²¸èˆ‡å’–å•¡ã€‚",
        strategy: "ä¸Šåˆç²¾ç¥æœ€å¥½æ™‚å»æ¢…ç”°è™•ç†ç†±é–€å½©å¦ï¼ˆ<strong>EXCEL</strong>/<strong>CANMAKE</strong>ï¼‰ï¼Œä¸‹åˆå®Œå…¨æ”¾é¬†ï¼Œä¸èƒŒè³¼ç‰©è¢‹é€›è¡—ã€‚",
        tags: ["SCARCITY SHOPPING", "KITAHAMA CAFE", "RIVER WALK"],
        weatherCity: "Osaka",
        photo: {
          title: "åŒ—æ¿±ï¼šåƒæ­æ´²çš„é‚£æ®µæ²³",
          desc: "ä½ è¦çš„ä¸æ˜¯æ›´å¤šè¡Œç¨‹ï¼Œè€Œæ˜¯æ›´å¥½çš„ã€ç©ºç™½å“è³ªã€ã€‚",
          silhouetteClass: "sil-day2"
        },
        timeline: [
          { time: "10:00", type: "SHOPPING", title: "æ¢…ç”°æˆ°ç•¥è³¼ç‰©", location: "LUCUA / Grand Front",
            desc: "é–å®šç¼ºè²¨é«˜é¢¨éšªï¼šEXCELã€CANMAKEã€‚å°ˆæ«ƒè©¦è‰²è¶å…‰ç·šå¥½ã€‚",
            keywords: ["EXCEL","CANMAKE","CPB"]
          },
          { time: "13:30", type: "CHILL", title: "åŒ—æ¿±æ²³ç•”å’–å•¡", location: "GOKAN äº”æ„Ÿæœ¬é¤¨", desc: "çœ‹è‘—æ²³å·ç™¼å‘†ï¼Œè®“è³¼ç‰©è…¦é—œæ©Ÿã€‚" },
          { time: "15:30", type: "WALK", title: "ä¸­å´ç”ºæ•£æ­¥", location: "Nakazakicho", desc: "è€å±‹æ”¹å»ºå°åº—ç©¿æ¢­ã€‚åªçœ‹ä¸è²·ä¹Ÿå¯ä»¥ã€‚" },
          { time: "18:30", type: "DINNER", title: "é“é “å €ç¶“å…¸", location: "Dotonbori", desc: "å¤§é˜ªç‡’ / ç« é­šç‡’éš¨æ„ï¼Œå›é£¯åº—åƒä¹Ÿè¡Œã€‚" }
        ]
      },
      {
        id: 2,
        label: "DAY 03",
        date: "2025/12/17 Â· Wed",
        location: "Osaka Castle Park",
        eyebrow: "DAY 03 Â· SLOW DAY",
        title: "Castle Park & Winter Sun",
        subtitle: "æŠŠæ™‚é–“æ‹‰é•·ï¼šä¸æ€¥è‘—é€²å¤©å®ˆé–£ï¼Œé‡é»æ˜¯å…¬åœ’æœ¬èº«çš„æ¨¹å½±èˆ‡è­·åŸæ²³ã€‚",
        strategy: "ä»Šæ—¥æ˜¯é«”åŠ›èª¿ç¯€æ—¥ã€‚å¦‚æœæ˜¨å¤©é«˜å–®åƒ¹é‚„æ²’è²·é½Šï¼Œä¸‹åˆå¯ä½œç‚ºå‚™æ¡ˆæ™‚é–“ã€‚",
        tags: ["OSAKA CASTLE", "JO-TERRACE", "RELAX"],
        weatherCity: "Osaka",
        photo: {
          title: "å¤§é˜ªåŸï¼šå½±å­æ¯”äººç¾¤æ›´å¥½çœ‹",
          desc: "æŠŠç„¦é»æ”¾åœ¨çŸ³ç‰†ã€æ¨¹å½±ã€è­·åŸæ²³åå…‰ã€‚",
          silhouetteClass: "sil-day3"
        },
        timeline: [
          { time: "10:00", type: "WALK", title: "å¤§é˜ªåŸå…¬åœ’æ•£æ­¥", location: "Osaka Castle Park", desc: "æ²¿å¤–åœæ…¢æ…¢èµ°ï¼Œæ‰¾å¼µé•·æ¤…æ›¬å†¬æ—¥å¤ªé™½ã€‚" },
          { time: "12:30", type: "LUNCH", title: "Jo-Terrace Osaka", location: "JO-TERRACE OSAKA", desc: "é¿é–‹åœ˜å®¢æ™‚æ®µï¼Œåƒå¾—èˆ’æœå°±å¥½ã€‚" },
          { time: "15:00", type: "BUFFER", title: "å¸‚å€å‚™æ¡ˆ / ä¼‘æ¯", location: "Shinsaibashi", desc: "è£œè²¨æˆ–å›é£¯åº—åˆç¡ï¼ŒäºŒé¸ä¸€ã€‚" },
          { time: "18:30", type: "DINNER", title: "ç¦å¤ªéƒ å¤§é˜ªç‡’", location: "ç¦å¤ªéƒ æœ¬åº—", desc: "è”¥ç‡’å¿…é»ã€‚æ’éšŠä¹Ÿç•¶ä½œæ—…ç¨‹ç¯€å¥çš„ä¸€éƒ¨åˆ†ã€‚" }
        ]
      },
      {
        id: 3,
        label: "DAY 04",
        date: "2025/12/18 Â· Thu",
        location: "Nara",
        eyebrow: "DAY 04 Â· NATURE",
        title: "Nara Day Trip",
        subtitle: "é¹¿èˆ‡æ¨¹çš„ä¸€å¤©ï¼šæŠŠè³¼ç‰©æ…¾æœ›é™åˆ°æœ€ä½ï¼Œåªå¸¶ç›¸æ©Ÿèˆ‡å¥½èµ°çš„å¿ƒæƒ…ã€‚",
        strategy: "å¥ˆè‰¯ä¸æ˜¯æ‰“å¡æ¸…å–®ï¼Œè€Œæ˜¯ä¸€å€‹è®“æ™‚é–“è®Šæ…¢çš„åœ°æ–¹ã€‚ä¸è³¼ç‰©ã€ä¸è¶•è·¯ï¼Œé †è‘—é¹¿çš„æ­¥èª¿èµ°ã€‚",
        tags: ["DEER", "OLD TOWN", "NO SHOPPING"],
        weatherCity: "Nara",
        photo: {
          title: "å¤éƒ½ï¼šå®‰éœåˆ°èƒ½è½è¦‹è‡ªå·±",
          desc: "é¹¿ä¸æ˜¯æ™¯é»ï¼Œæ˜¯ç¯€å¥çš„æé†’ã€‚",
          silhouetteClass: "sil-day4"
        },
        timeline: [
          { time: "09:30", type: "TRAIN", title: "å‰å¾€å¥ˆè‰¯", location: "Kintetsu-Nara Station", desc: "è»Šç¨‹ç´„ 40 åˆ†é˜ï¼Œè®“è…¦è¢‹æ…¢æ…¢æ”¾é¬†ã€‚" },
          { time: "10:30", type: "COFFEE", title: "Rokumei Coffee", location: "ROKUMEI COFFEE CO. NARA", desc: "å…ˆä¸€æ¯å† è»å’–å•¡ï¼Œæ‰é–‹å§‹èµ°è·¯ã€‚" },
          { time: "12:00", type: "LUNCH", title: "å¿—æ´¥é¦™ é‡œé£¯", location: "é‡œé£¯ å¿—æ´¥é¦™ å…¬åœ’åº—", desc: "æ’å¤ªä¹…å°±æ”¹å¥ˆè‰¯ç”ºå®šé£Ÿï¼Œåˆ¥ç¡¬ç­‰ã€‚" },
          { time: "14:00", type: "WALK", title: "å¥ˆè‰¯å…¬åœ’ & è€è¡—", location: "Naramachi", desc: "é¿é–‹æœ€æ“æ“ å€ï¼Œå¾€åƒé“æˆ–è€è¡—èµ°ã€‚" },
          { time: "17:30", type: "RETURN", title: "è¿”å›å¤§é˜ª", location: "Namba", desc: "æ™šé¤éš¨æ„ï¼Œä»Šæ™šæ—©é»ä¼‘æ¯ã€‚" }
        ]
      },
      {
        id: 4,
        label: "DAY 05",
        date: "2025/12/19 Â· Fri",
        location: "Namba Â· KIX",
        eyebrow: "DAY 05 Â· DEPARTURE",
        title: "Departure & Rituals",
        subtitle: "æŠŠæ—…ç¨‹æŠ˜æˆæ›¸ç±¤ï¼šæœ€å¾Œçš„å’–å•¡èˆ‡æœ€å¾Œçš„æ¡è²·ã€‚",
        strategy: "å›ç¨‹æ—¥çš„é‡é»æ˜¯ã€Œä¸éºæ¼ã€èˆ‡ã€Œå„€å¼æ„Ÿã€ã€‚çª—å¤–è¦–è§’ç•™çµ¦è‡ªå·±ã€‚",
        tags: ["LAST COFFEE", "LAST BUY", "GOODBYE"],
        weatherCity: "Osaka",
        photo: {
          title: "æ©Ÿç¿¼ï¼šæ—…ç¨‹æ”¶æŸçš„è§’åº¦",
          desc: "ä¸æ˜¯çµæŸï¼Œæ˜¯æŠŠè¨˜æ†¶æŠ˜å¥½ã€‚",
          silhouetteClass: "sil-day5"
        },
        timeline: [
          { time: "10:00", type: "CHECKOUT", title: "é€€æˆ¿ & å¯„æ”¾è¡Œæ", location: "GRANBELL HOTEL OSAKA NAMBA", desc: "æª¢æŸ¥åºŠåº•èˆ‡æ’åº§ï¼Œåˆ¥éºæ¼å……é›»å™¨ã€‚" },
          { time: "12:00", type: "LUNCH", title: "æœ€å¾Œçš„å¤§é˜ªå‘³", location: "Namba", desc: "åƒé‚„æ²’åƒåˆ°çš„ï¼Œæˆ–ç°¡å–®é£¯ç³°éƒ½è¡Œã€‚" },
          { time: "14:30", type: "MOVE", title: "å‰å¾€é—œè¥¿æ©Ÿå ´", location: "Kansai International Airport", desc: "é ç•™å……è£•æ™‚é–“ï¼Œè®“å¿ƒæƒ…ä¸æ…Œã€‚" },
          { time: "16:00", type: "RITUAL", title: "æ©Ÿå ´å„€å¼", location: "KIX", desc: "æœ€å¾Œä¸€æ¯å’–å•¡ï¼‹æœ€å¾Œä¸€æ¬¡çª—å¤–è¦–è§’ã€‚" }
        ]
      }
    ];

    /* ========== STATE + ELEMENTS ========== */
    const state = { activeDay: 0, weather: {} };

    const els = {
      timeline: document.getElementById('timeline'),
      nav: document.getElementById('nav-container'),
      drawer: document.getElementById('drawer'),
      backdrop: document.getElementById('backdrop'),
      modal: document.getElementById('modal'),

      date: document.getElementById('day-date'),
      location: document.getElementById('day-location'),
      title: document.getElementById('day-title'),
      subtitle: document.getElementById('day-subtitle'),
      strategy: document.getElementById('day-strategy'),
      tags: document.getElementById('day-tags'),
      weather: document.getElementById('weather-display'),
      eyebrow: document.getElementById('day-eyebrow'),

      photoWrapper: document.getElementById('photo-wrapper'),
      photoImg: document.getElementById('photo-img'),
      photoTitle: document.getElementById('photo-title'),
      photoDesc: document.getElementById('photo-desc'),
      photoSilhouette: document.getElementById('photo-silhouette'),

      editToggle: document.getElementById('edit-toggle'),
      closeDrawer: document.getElementById('drawer-close'),
    };

    function init(){
      renderNav();
      loadDay(0);

      els.editToggle.addEventListener('click', toggleEdit);
      els.backdrop.addEventListener('click', closeAllOverlays);
      els.closeDrawer.addEventListener('click', closeAllOverlays);

      document.addEventListener('click', (e) => {
        if(e.target.classList.contains('keyword-link')){
          openModal(e.target.innerText, e.target.dataset.key);
        }
      });
    }

    function renderNav(){
      const frag = document.createDocumentFragment();

      itinerary.forEach((day, idx) => {
        const btn = document.createElement('button');
        btn.className = `nav-btn ${idx===0?'active':''}`;
        btn.innerHTML = `<span class="nav-btn-dot"></span><span>${day.label}</span>`;
        btn.onclick = () => loadDay(idx);
        frag.appendChild(btn);
      });

      const tripBtn = document.createElement('button');
      tripBtn.className = 'nav-btn special';
      tripBtn.innerHTML = `<span>TRIP</span>`;
      tripBtn.onclick = openDrawer;
      frag.appendChild(tripBtn);

      els.nav.innerHTML = '';
      els.nav.appendChild(frag);
    }

    function loadDay(idx){
      state.activeDay = idx;
      const data = itinerary[idx];

      document.querySelectorAll('.nav-btn').forEach((b,i)=>{
        if(i < itinerary.length) b.classList.toggle('active', i===idx);
      });

      animateUpdate(els.title, data.title);
      animateUpdate(els.subtitle, data.subtitle);

      els.date.innerText = data.date;
      els.location.innerText = data.location;
      els.eyebrow.innerText = data.eyebrow;

      els.strategy.innerHTML = data.strategy;
      els.tags.innerHTML = data.tags.map(t=>`<span class="tag">${t}</span>`).join('');

      /* Photo: local image + per-day silhouette */
      els.photoImg.src = LOCAL_IMAGES[idx];
      els.photoTitle.innerText = data.photo.title;
      els.photoDesc.innerText = data.photo.desc;

      els.photoSilhouette.className = `photo-silhouette ${data.photo.silhouetteClass}`;

      renderTimeline(data.timeline);
      fetchWeather(data.weatherCity);

      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function renderTimeline(items){
      els.timeline.innerHTML = items.map(item=>{
        let desc = item.desc;

        if(item.keywords){
          item.keywords.forEach(kw=>{
            if(modalDetails[kw]){
              const safe = kw.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
              desc = desc.replace(new RegExp(safe, 'g'), `<span class="keyword-link" data-key="${kw}">${kw}</span>`);
            }
          });
        }

        return `
          <div class="timeline-item">
            <div class="timeline-time">
              ${item.time}
              <div class="timeline-dot"></div>
              <div class="timeline-line"></div>
            </div>
            <article class="timeline-card">
              <div class="timeline-header">
                <div class="timeline-title" contenteditable="false">${item.title}</div>
                <div class="timeline-type">${item.type}</div>
              </div>
              <div class="timeline-location">
                ğŸ“ <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.location)}" target="_blank">${item.location}</a>
              </div>
              <div class="timeline-body" contenteditable="false">${desc}</div>
            </article>
          </div>
        `;
      }).join('');
    }

    function animateUpdate(el, html){
      el.style.opacity = 0;
      setTimeout(()=>{ el.innerHTML = html; el.style.opacity = 1; }, 140);
    }

    function openDrawer(){
      els.backdrop.classList.add('active');
      els.drawer.classList.add('active');
    }

    function closeAllOverlays(){
      els.backdrop.classList.remove('active');
      els.drawer.classList.remove('active');
      els.modal.style.opacity = 0;
      els.modal.style.pointerEvents = 'none';
    }

    function openModal(title, key){
      const content = modalDetails[key] || "æš«ç„¡è©³ç´°ç­–ç•¥è³‡è¨Šã€‚";
      document.getElementById('modal-title').innerText = title;
      document.getElementById('modal-sub').innerText = "SHOPPING STRATEGY";
      document.getElementById('modal-body').innerText = content;

      els.backdrop.classList.add('active');
      els.modal.style.opacity = 1;
      els.modal.style.pointerEvents = 'auto';
    }

    function toggleEdit(){
      const isOn = els.editToggle.classList.toggle('active');
      els.editToggle.innerText = isOn ? 'âœ“ SAVE' : 'âœ EDIT';

      // hero editable set (ä½ è¦æ”¹å…§å®¹æ™‚ç”¨)
      [els.eyebrow, els.title, els.subtitle, els.strategy].forEach(el=>{
        el.setAttribute('contenteditable', isOn ? 'true' : 'false');
      });

      // timeline editable
      document.querySelectorAll('.timeline-title, .timeline-body').forEach(el=>{
        el.setAttribute('contenteditable', isOn ? 'true' : 'false');
      });
    }

    async function fetchWeather(city){
      // ä½ è¦ç©©å®šï¼šå…ˆç”¨ Mockï¼Œä¸æ‰“ APIï¼ˆä½ å‡ºé–€å»æ©Ÿå ´ç”¨å¾—åˆ°çš„å°±æ˜¯ç©©ï¼‰
      els.weather.innerText = "Loading...";
      setTimeout(()=>{
        const temps = { "Osaka":"8Â°C", "Nara":"6Â°C" };
        els.weather.innerText = temps[city] || "10Â°C";
      }, 450);
    }

    init();
  </script>
</body>
</html>
